(self.webpackChunk_aniyajs_components=self.webpackChunk_aniyajs_components||[]).push([[415],{75353:function(Ee,De,l){"use strict";l.d(De,{lD:function(){return _e},cY:function(){return ir},Ay:function(){return or},lZ:function(){return fr},Bg:function(){return mr},SV:function(){return Dr},_S:function(){return kr},mF:function(){return xr},lr:function(){return Ur},eT:function(){return Wr},L2:function(){return Xr},hG:function(){return na},xn:function(){return Je}});var Ce=l(19632),oe=l.n(Ce),ye=l(97857),a=l.n(ye),$e=l(5574),z=l.n($e),Ie=l(13769),te=l.n(Ie),de=l(15009),p=l.n(de),le=l(99289),j=l.n(le),N=l(23430),K=l(2453),re=l(18662),O=l(74295),H=l.n(O),Q=l(55733),ce=l.n(Q),x=l(67294),ve=l(70338),fe=l(36404),f=l(85893),Ne=["children","isAsync","downloadUrl","data","buttonTypeProps","folderName","excelProps","folderData","beforeDownloadFn","asyncFn"],He=function $(e,t){return new Promise(function(){var d=j()(p()().mark(function r(n,u){var s,i,h,y,A,Z;return p()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:s=0;case 1:if(!(s<t.length)){C.next=21;break}if(y=t[s],y.folderName&&(i=y.data)!==null&&i!==void 0&&i.length&&(A=e.folder(y.folderName),$(A,y.data)),y.folderName&&!((h=y.data)!==null&&h!==void 0&&h.length)&&e.folder(y.folderName),!y.fileName){C.next=18;break}if(y.content&&e.file(y.fileName,y.content),!y.imageUrl){C.next=18;break}return C.prev=8,C.next=11,(0,fe.$v)(y.imageUrl);case 11:Z=C.sent,e.file(y.fileName,Z.substring(22),{base64:!0}),C.next=18;break;case 15:C.prev=15,C.t0=C.catch(8),u(C.t0);case 18:s++,C.next=1;break;case 21:n(e);case 22:case"end":return C.stop()}},r,null,[[8,15]])}));return function(r,n){return d.apply(this,arguments)}}())},Ye=function(e){var t=e.children,d=t===void 0?"Download":t,r=e.isAsync,n=r===void 0?!0:r,u=e.downloadUrl,s=e.data,i=s===void 0?{}:s,h=e.buttonTypeProps,y=e.folderName,A=e.excelProps,Z=e.folderData,D=e.beforeDownloadFn,C=e.asyncFn,_=te()(e,Ne),q=(0,x.useState)(!1),E=z()(q,2),ae=E[0],U=E[1],me=function(){var v=j()(p()().mark(function b(){var c,o,m,I,F,P,k,W,ee,M;return p()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return F=(c=A==null||(o=A.columns)===null||o===void 0?void 0:o.map(function(ie,B){var ne,ge;return a()(a()({},ie),{},{width:(ne=A==null||(ge=A.columnsWidth)===null||ge===void 0?void 0:ge[B])!==null&&ne!==void 0?ne:10})}))!==null&&c!==void 0?c:[],P=new(H()).Workbook,k=P.addWorksheet("My Sheet",{views:[{state:"frozen",ySplit:1}]}),k.columns=oe()(F),k.addRows((m=A==null||(I=A.dataSource)===null||I===void 0?void 0:I.map(function(ie){var B=a()({},ie);return Object.keys(ie).forEach(function(ne){B[ne]=String(B[ne]===void 0||B[ne]===null?"":B[ne])}),B}))!==null&&m!==void 0?m:[]),k.eachRow({includeEmpty:!0},function(ie){ie.alignment={vertical:"middle",horizontal:"center",wrapText:!0},ie.font={size:9},ie.height=16}),W=k.getRow(1),W.alignment={vertical:"middle",horizontal:"center",wrapText:!0},W.height=22,W.font={bold:!0,size:10},L.next=12,P.xlsx.writeBuffer();case 12:return ee=L.sent,M=new Blob([ee],{type:"xlsx"}),L.next=16,(0,fe.lr)(M,y);case 16:K.ZP.success("\u5BFC\u51FA\u6210\u529F",1,function(){U(!1)});case 17:case"end":return L.stop()}},b)}));return function(){return v.apply(this,arguments)}}(),ue=function(){var v=j()(p()().mark(function b(){var c,o;return p()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return c=new(ce()),I.prev=1,I.next=4,He(c,Z!=null?Z:[]);case 4:return I.next=6,c.generateAsync({type:"blob"});case 6:return o=I.sent,I.next=9,(0,fe.lr)(o,y);case 9:K.ZP.success("\u5BFC\u51FA\u6210\u529F",1,function(){U(!1)}),I.next=15;break;case 12:I.prev=12,I.t0=I.catch(1),K.ZP.error("\u5BFC\u51FA\u5931\u8D25",1,function(){U(!1)});case 15:case"end":return I.stop()}},b,null,[[1,12]])}));return function(){return v.apply(this,arguments)}}(),T=function(){var v=j()(p()().mark(function b(c,o){var m,I;return p()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(!C){P.next=4;break}return P.next=3,C(c,o).then(function(k){k&&(0,fe.lr)(k,y),U(!1)});case 3:return P.abrupt("return");case 4:return P.next=6,(0,ve.Sv)(c,o);case 6:if(m=P.sent,!m){P.next=16;break}if(m.type!=="application/json"){P.next=13;break}return I=new FileReader,I.readAsText(m,"utf-8"),I.onload=function(k){var W,ee,M=(W=k.target)!==null&&W!==void 0&&W.result?JSON.parse((ee=k.target)===null||ee===void 0?void 0:ee.result):{message:"\u5BFC\u51FA\u5931\u8D25"},he=M.message;K.ZP.error(he,1,function(){U(!1)})},P.abrupt("return",!1);case 13:return P.next=15,(0,fe.lr)(m,y);case 15:K.ZP.success("\u5BFC\u51FA\u6210\u529F",1,function(){U(!1)});case 16:case"end":return P.stop()}},b)}));return function(c,o){return v.apply(this,arguments)}}(),g=function(){var v=j()(p()().mark(function b(){var c,o,m,I;return p()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(!(D&&D()||!D)){P.next=24;break}if(y){P.next=4;break}return console.log(new Error("error: folderName property may not exist or be null")),P.abrupt("return");case 4:if(!n){P.next=13;break}if(u){P.next=8;break}return console.log(new Error("error: downloadUrl property may not exist or be null")),P.abrupt("return");case 8:return U(!0),P.next=11,T(u,i);case 11:P.next=24;break;case 13:if(U(!0),!A){P.next=17;break}return P.next=17,me();case 17:if(!Z){P.next=24;break}if(Z){P.next=20;break}return P.abrupt("return",!1);case 20:return I=(c=(o=(0,fe.zk)({initArr:Z,childrenField:"data"}))===null||o===void 0||(m=o.filter(function(k){return(k==null?void 0:k.data)===void 0}))===null||m===void 0?void 0:m.length)!==null&&c!==void 0?c:0,console.log("\u542B\u6709\u6587\u4EF6\u5939\u3001\u6587\u4EF6\u6570\u91CF",I),P.next=24,ue();case 24:case"end":return P.stop()}},b)}));return function(){return v.apply(this,arguments)}}();return(0,f.jsx)("span",a()(a()({className:"adownload-file"},_),{},{children:h?(0,f.jsx)(re.ZP,a()(a()({type:"primary",icon:(0,f.jsx)(N.Z,{}),size:"middle",onClick:g,loading:ae},h),{},{children:d})):(0,f.jsx)("span",{className:"adownload-file-text",onClick:g,children:d})}))},Je=(0,x.memo)(Ye),Y=l(15228),Xe=l(49288),Qe=function(e){var t=e.name,d=e.label,r=e.formItemProps,n=r===void 0?{}:r,u=e.initialValue,s=e.rules,i=e.widgetProps,h=e.selectOptions,y=e.url,A=e.formatter,Z=e.asyncFn,D=e.onSearch,C=(0,x.useState)([]),_=z()(C,2),q=_[0],E=_[1];(0,x.useEffect)(function(){h&&E(h)},[h]);var ae=function(T){if(A){var g=A(T);return g}return T},U=function(){var ue=j()(p()().mark(function T(g,v){return p()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!Z){c.next=6;break}return c.next=3,Z(g,v);case 3:c.t0=c.sent,c.next=9;break;case 6:return c.next=8,(0,ve.he)(g,{params:{search:v}});case 8:c.t0=c.sent;case 9:return c.abrupt("return",c.t0);case 10:case"end":return c.stop()}},T)}));return function(g,v){return ue.apply(this,arguments)}}(),me=function(){var ue=j()(p()().mark(function T(g){var v,b;return p()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!y){o.next=6;break}return o.next=3,U(y,g);case 3:v=o.sent,b=ae(v),E(oe()(b));case 6:D&&D(g);case 7:case"end":return o.stop()}},T)}));return function(g){return ue.apply(this,arguments)}}();return u!==void 0&&(n.initialValue=u),(0,f.jsx)(Y.Z.Item,a()(a()({},n),{},{name:t,label:d,rules:s,children:(0,f.jsx)(Xe.Z,a()(a()({},i),{},{onSearch:me,options:q}))}))},_e=Qe,qe=l(9783),Ae=l.n(qe),er=l(34307),Te=l(97435),rr=function $(e,t,d){return e==null?void 0:e.map(function(r){return(r==null?void 0:r.value)===d?r.children=t:r.children&&$(r.children,t,d),a()({},r)})},ar=function(e){var t=e.value,d=e.onChange,r=e.selectOptions,n=e.loadDataOptions,u=e.formatter,s=e.asyncFn,i=e.widgetProps,h=(0,Te.Z)(i,["options"]),y=(0,x.useState)(r!=null?r:[]),A=z()(y,2),Z=A[0],D=A[1],C=(0,x.useState)(!1),_=z()(C,2),q=_[0],E=_[1],ae=function(){var T=j()(p()().mark(function g(v,b){var c;return p()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(!s){m.next=9;break}return m.next=3,s(v,b);case 3:if(c=m.sent,c!==!1){m.next=8;break}return m.next=7,(0,ve.he)(v.url,v==null?void 0:v.options);case 7:return m.abrupt("return",m.sent);case 8:return m.abrupt("return",c);case 9:return m.next=11,(0,ve.he)(v.url,v==null?void 0:v.options);case 11:return m.abrupt("return",m.sent);case 12:case"end":return m.stop()}},g)}));return function(v,b){return T.apply(this,arguments)}}(),U=function(g,v,b,c){if(u){var o=u(g,v,b);return o===!1?g==null?void 0:g.map(function(m){return a()(a()({},m),{},{isLeaf:c})}):o}return g==null?void 0:g.map(function(m){return a()(a()({},m),{},{isLeaf:c})})};(0,x.useEffect)(function(){j()(p()().mark(function T(){var g,v,b,c,o,m;return p()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(g=n==null?void 0:n[0],!g){F.next=10;break}return v=g.action,b={url:v},E(!0),F.next=7,ae(b,0);case 7:c=F.sent,E(!1),D(U(c,g,0,(n==null?void 0:n.length)===1));case 10:if(!(Array.isArray(t)&&(t==null?void 0:t.length)>0)){F.next=18;break}o=p()().mark(function P(k){var W,ee,M,he,L;return p()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(W=n==null?void 0:n[k],!W){B.next=10;break}return ee=W.action,M=W.queryKey,he={url:ee,options:a()({},M?{params:Ae()({},String(M),t==null?void 0:t[k-1])}:null)},E(!0),B.next=7,ae(he,k);case 7:L=B.sent,E(!1),D(function(ne){var ge=U(L,g,k,(n==null?void 0:n.length)-1===k);return rr(ne,ge,t==null?void 0:t[k-1])});case 10:case"end":return B.stop()}},P)}),m=1;case 13:if(!(m<t.length)){F.next=18;break}return F.delegateYield(o(m),"t0",15);case 15:m++,F.next=13;break;case 18:case"end":return F.stop()}},T)}))()},[]);var me=function(){var T=j()(p()().mark(function g(v){var b,c,o,m,I,F,P,k,W;return p()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(!(Array.isArray(v)&&n)){M.next=18;break}if(b=v.length-1,c=v[b],o=b+2===(n==null?void 0:n.length),c.loading=!0,m=c.value,I=n[b+1],!I){M.next=18;break}return F=I.action,P=I.queryKey,k={url:F,options:a()({},P?{params:Ae()({},String(P),m)}:null)},E(!0),M.next=13,ae(k,b+1);case 13:W=M.sent,E(!1),c.loading=!1,c.children=U(W,I,b+1,o),D(function(he){return oe()(he)});case 18:case"end":return M.stop()}},g)}));return function(v){return T.apply(this,arguments)}}(),ue=function(g){d&&d(g)};return(0,f.jsx)(er.Z,a()(a()({loading:q,value:t,options:Z,onChange:ue},n?{loadData:me}:null),h))},nr=ar,tr=["name","label","formItemProps","initialValue","rules"],lr=function(e){var t=e.name,d=e.label,r=e.formItemProps,n=r===void 0?{}:r,u=e.initialValue,s=e.rules,i=te()(e,tr);return u!==void 0&&(n.initialValue=u),(0,f.jsx)(Y.Z.Item,a()(a()({},n),{},{name:t,label:d,rules:s,children:(0,f.jsx)(nr,a()({},i))}))},ir=lr,ur=l(32808),sr=function(e){var t=e.name,d=e.label,r=e.formItemProps,n=r===void 0?{}:r,u=e.initialValue,s=e.rules,i=e.widgetProps,h=e.options;return u!==void 0&&(n.initialValue=u),(0,f.jsx)(Y.Z.Item,a()(a()({},n),{},{name:t,label:d,rules:s,children:(0,f.jsx)(ur.Z.Group,a()({options:h},i))}))},or=sr,Fe=l(98033),ke=l(5584),oa=l(33852),dr=function(e){var t=e.name,d=e.label,r=e.formItemProps,n=r===void 0?{}:r,u=e.initialValue,s=e.rules,i=e.widgetProps;return u!==void 0&&(n.initialValue=u),(0,f.jsx)(Y.Z.Item,a()(a()({},n),{},{name:t,label:d,rules:s,children:(0,f.jsx)(Fe.Z,a()({locale:ke.Z},i))}))},fr=dr,cr=Fe.Z.RangePicker,vr=function(e){var t=e.name,d=e.label,r=e.formItemProps,n=r===void 0?{}:r,u=e.initialValue,s=e.rules,i=e.widgetProps;return u!==void 0&&(n.initialValue=u),(0,f.jsx)(Y.Z.Item,a()(a()({},n),{},{name:t,label:d,rules:s,children:(0,f.jsx)(cr,a()({locale:ke.Z},i))}))},mr=vr,hr=l(12444),Re=l.n(hr),pr=l(72004),Oe=l.n(pr),Pr=l(31996),Ue=l.n(Pr),gr=l(26037),Le=l.n(gr),Ze=l(24016),Ve=function($){Ue()(t,$);var e=Le()(t);function t(){return Re()(this,t),e.apply(this,arguments)}return Oe()(t,[{key:"render",value:function(){var r=this.props,n=r.name,u=r.label,s=r.formItemProps,i=s===void 0?{}:s,h=r.initialValue,y=r.rules,A=r.widgetProps,Z=A===void 0?{}:A;return h!==void 0&&(i.initialValue=h),(0,f.jsx)(Y.Z.Item,a()(a()({},i),{},{name:n,label:u,rules:y,children:(0,f.jsx)(Ze.Z,a()({},Z))}))}}]),t}(x.Component);Ae()(Ve,"TextArea",void 0),Ae()(Ve,"Password",void 0),Ae()(Ve,"Number",void 0);var xe=Ve,br=function(e){var t=e.name,d=e.label,r=e.formItemProps,n=r===void 0?{}:r,u=e.initialValue,s=e.rules,i=e.widgetProps,h=i===void 0?{}:i;return u!==void 0&&(n.initialValue=u),(0,f.jsx)(Y.Z.Item,a()(a()({},n),{},{name:t,label:d,rules:s,children:(0,f.jsx)(Ze.Z.TextArea,a()({},h))}))},yr=br,wr=function(e){var t=e.name,d=e.label,r=e.formItemProps,n=r===void 0?{}:r,u=e.initialValue,s=e.rules,i=e.widgetProps,h=i===void 0?{}:i;return u!==void 0&&(n.initialValue=u),(0,f.jsx)(Y.Z.Item,a()(a()({},n),{},{name:t,label:d,rules:s,children:(0,f.jsx)(Ze.Z.Password,a()({},h))}))},Ar=wr,Ir=l(43262),Sr=function(e){var t=e.name,d=e.label,r=e.formItemProps,n=r===void 0?{}:r,u=e.initialValue,s=e.rules,i=e.widgetProps,h=i===void 0?{}:i;return u!==void 0&&(n.initialValue=u),(0,f.jsx)(Y.Z.Item,a()(a()({},n),{},{name:t,label:d,rules:s,children:(0,f.jsx)(Ir.Z,a()({},h))}))},jr=Sr;xe.TextArea=yr,xe.Password=Ar,xe.Number=jr;var Dr=xe,Cr=l(33573),$r=function(e){var t=e.name,d=e.label,r=e.formItemProps,n=r===void 0?{}:r,u=e.initialValue,s=e.rules,i=e.widgetProps,h=e.options;return u!==void 0&&(n.initialValue=u),(0,f.jsx)(Y.Z.Item,a()(a()({},n),{},{name:t,label:d,rules:s,children:(0,f.jsx)(Cr.ZP.Group,a()({options:h},i))}))},kr=$r,Zr=l(34041),Vr=function(e){var t=e.name,d=e.label,r=e.formItemProps,n=r===void 0?{}:r,u=e.initialValue,s=e.rules,i=e.widgetProps,h=e.selectOptions,y=e.url,A=e.formatter,Z=e.asyncFn,D=(0,x.useState)(!1),C=z()(D,2),_=C[0],q=C[1],E=(0,x.useState)(h),ae=z()(E,2),U=ae[0],me=ae[1];u!==void 0&&(n.initialValue=u);var ue=function(v){if(A){var b=A(v);return b}return v},T=function(){var g=j()(p()().mark(function v(b){return p()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!Z){o.next=6;break}return o.next=3,Z(b);case 3:o.t0=o.sent,o.next=9;break;case 6:return o.next=8,(0,ve.he)(b);case 8:o.t0=o.sent;case 9:return o.abrupt("return",o.t0);case 10:case"end":return o.stop()}},v)}));return function(b){return g.apply(this,arguments)}}();return(0,x.useEffect)(function(){j()(p()().mark(function g(){var v,b;return p()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!y){o.next=8;break}return q(!0),o.next=4,T(y);case 4:v=o.sent,q(!1),b=ue(v),me(b);case 8:case"end":return o.stop()}},g)}))()},[]),(0,f.jsx)(Y.Z.Item,a()(a()({},n),{},{name:t,label:d,rules:s,children:(0,f.jsx)(Zr.Z,a()({loading:_,options:U},i))}))},xr=Vr,Er=l(72269),Tr=function(e){var t=e.value,d=e.onChange,r=e.widgetProps,n=function(s){d&&d(s)};return(0,f.jsx)(Er.Z,a()({checked:t,onChange:n},r))},Fr=Tr,Rr=["name","label","formItemProps","initialValue","rules"],Or=function(e){var t=e.name,d=e.label,r=e.formItemProps,n=r===void 0?{}:r,u=e.initialValue,s=u===void 0?!1:u,i=e.rules,h=te()(e,Rr);return s!==void 0&&(n.initialValue=s),(0,f.jsx)(Y.Z.Item,a()(a()({},n),{},{name:t,label:d,rules:i,children:(0,f.jsx)(Fr,a()({},h))}))},Ur=Or,Ke=l(68351),We=function($){Ue()(t,$);var e=Le()(t);function t(){return Re()(this,t),e.apply(this,arguments)}return Oe()(t,[{key:"render",value:function(){var r=this.props,n=r.name,u=r.label,s=r.formItemProps,i=s===void 0?{}:s,h=r.initialValue,y=r.rules,A=r.widgetProps,Z=A===void 0?{}:A;return h!==void 0&&(i.initialValue=h),(0,f.jsx)(Y.Z.Item,a()(a()({},i),{},{name:n,label:u,rules:y,children:(0,f.jsx)(Ke.Z,a()({locale:ke.Z},Z))}))}}]),t}(x.Component);Ae()(We,"RangePicker",void 0);var Me=We,Lr=function(e){var t=e.name,d=e.label,r=e.formItemProps,n=r===void 0?{}:r,u=e.initialValue,s=e.rules,i=e.widgetProps,h=i===void 0?{}:i;return u!==void 0&&(n.initialValue=u),(0,f.jsx)(Y.Z.Item,a()(a()({},n),{},{name:t,label:d,rules:s,children:(0,f.jsx)(Ke.Z.RangePicker,a()({locale:ke.Z},h))}))},Kr=Lr;Me.RangePicker=Kr;var Wr=Me,Mr=l(75081),Br=l(86683),Gr=["checkStrictly","checkable"],zr=function $(e,t,d){return e.map(function(r){return r.key===d?a()(a()({},r),{},{isLeaf:!(t!=null&&t.length),children:t}):r.children?a()(a()({},r),{},{children:$(r.children,t,d)}):r})},Nr=function(e){var t=e.value,d=e.onChange,r=e.checkStrictlyChecked,n=e.widgetProps,u=e.treeData,s=e.url,i=e.loadDataOptions,h=e.formatter,y=e.asyncFn,A=n.checkStrictly,Z=n.checkable,D=te()(n,Gr),C=(0,Te.Z)(D,["onSelect","onCheck"]),_=(0,x.useState)(!0),q=z()(_,2),E=q[0],ae=q[1],U=(0,x.useState)(),me=z()(U,2),ue=me[0],T=me[1],g=(0,x.useState)(),v=z()(g,2),b=v[0],c=v[1],o=(0,x.useState)(),m=z()(o,2),I=m[0],F=m[1],P=(0,x.useState)(!1),k=z()(P,2),W=k[0],ee=k[1],M=(0,x.useState)(u),he=z()(M,2),L=he[0],ie=he[1],B=(0,x.useRef)(!1);(0,x.useEffect)(function(){L&&(L==null?void 0:L.length)>0&&t&&!B.current&&!s&&(F(t),B.current=!0)},[L,t]);var ne=function(w,S,J,R){if(S){if(h){var V=h(w,J);return V===!1?w==null?void 0:w.map(function(se){return a()(a()({},se),{},{isLeaf:R})}):V}return w==null?void 0:w.map(function(se){return a()(a()({},se),{},{isLeaf:R})})}else{if(h){var X=h(w);return X===!1?w:X}return w}},ge=function(){var pe=j()(p()().mark(function w(S,J){var R;return p()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(!y){V.next=9;break}return V.next=3,y(S,J);case 3:if(R=V.sent,R!==!1){V.next=8;break}return V.next=7,(0,ve.he)(S.url,S==null?void 0:S.options);case 7:return V.abrupt("return",V.sent);case 8:return V.abrupt("return",R);case 9:return V.next=11,(0,ve.he)(S.url,S==null?void 0:S.options);case 11:return V.abrupt("return",V.sent);case 12:case"end":return V.stop()}},w)}));return function(S,J){return pe.apply(this,arguments)}}();(0,x.useEffect)(function(){j()(p()().mark(function pe(){var w,S,J,R,X,V,se;return p()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(!s){G.next=10;break}return ee(!0),G.next=4,ge({url:s});case 4:return w=G.sent,ee(!1),S=ne(w,!1),ie(S),F(t),G.abrupt("return");case 10:if(J=i==null?void 0:i[0],!J){G.next=21;break}return R=J.action,X={url:R},ee(!0),G.next=17,ge(X,0);case 17:V=G.sent,se=ne(V,!0,0,(i==null?void 0:i.length)===1),ie(se),ee(!1);case 21:case"end":return G.stop()}},pe)}))()},[]);var ta=function(){var pe=j()(p()().mark(function w(S){var J,R,X,V,se,we,G,Se,je;return p()().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:if(!(Array.isArray(i)&&i)){be.next=11;break}return R=S==null||(J=S.pos)===null||J===void 0?void 0:J.split("-"),X=(R==null?void 0:R.length)-2,V=X+2===(i==null?void 0:i.length),se=i==null?void 0:i[X+1],we=se.action,G=se.queryKey,Se={url:we,options:a()({},G?{params:Ae()({},String(G),S==null?void 0:S.key)}:null)},be.next=9,ge(Se,X+1);case 9:je=be.sent,ie(function(sa){return zr(sa,ne(je,!0,X+1,V),S==null?void 0:S.key)});case 11:case"end":return be.stop()}},w)}));return function(S){return pe.apply(this,arguments)}}(),ze=function(w){d&&d(w)},la=function(w,S){D.onSelect&&D.onSelect(w,S),T(w),ze(w)},ia=function(w,S){var J,R=w;if(A&&r&&!Array.isArray(w)){var X,V=S.node,se=S.checked,we=(X=(0,fe.zk)({initArr:[V],childrenField:"children"}))===null||X===void 0?void 0:X.map(function(Pe){return Pe==null?void 0:Pe.key});if(se){var G;R=[].concat(oe()(we),oe()((G=w==null?void 0:w.checked)!==null&&G!==void 0?G:[])).reduce(function(Pe,be){return Pe.indexOf(be)===-1?[].concat(oe()(Pe),[be]):Pe},[])}else{var Se;R=w==null||(Se=w.checked)===null||Se===void 0?void 0:Se.filter(function(Pe){return(we==null?void 0:we.indexOf(Pe))===-1})}}if(D.onCheck&&D.onCheck(w,S),(J=R)!==null&&J!==void 0&&J.checked){var je;R=(je=R)===null||je===void 0?void 0:je.checked}c(R),ze(R)},ua=function(w){B.current=!0,F(w),ae(!1)};return W?(0,f.jsx)(Mr.Z,{}):!L||!(L!=null&&L.length)?(0,f.jsx)(Ze.Z,{style:{backgroundColor:"#fff"},placeholder:"\u6682\u65E0\u6570\u636E",disabled:!0}):(0,f.jsx)(Br.Z,a()(a()({autoExpandParent:E,expandedKeys:I,treeData:L,selectedKeys:t||ue,checkedKeys:t||b,onSelect:la,onExpand:ua,onCheck:ia,checkStrictly:A,checkable:Z,selectable:!Z},i?{loadData:ta}:null),C))},Hr=Nr,Yr=["name","label","formItemProps","initialValue","rules"],Jr=function(e){var t=e.name,d=e.label,r=e.formItemProps,n=r===void 0?{}:r,u=e.initialValue,s=e.rules,i=te()(e,Yr);return u!==void 0&&(n.initialValue=u),(0,f.jsx)(Y.Z.Item,a()(a()({},n),{},{name:t,label:d,rules:s,children:(0,f.jsx)(Hr,a()({},i))}))},Xr=Jr,Qr=l(24969),Be=l(88484),Ge=l(94628),_r=["children","beforeUpload"],qr=function(e){var t=e.value,d=e.onChange,r=e.widgetProps,n=r.children,u=r.beforeUpload,s=te()(r,_r),i=s.listType,h=s.accept,y=function(D,C){var _,q;u&&u(D,C);var E=h==null?void 0:h.split(",").map(function(U){return U.trim().slice(1)}),ae=D==null||(_=D.name)===null||_===void 0?void 0:_.split(".")[(D==null||(q=D.name)===null||q===void 0?void 0:q.split(".").length)-1];if(!(E!=null&&E.includes(ae)))return K.ZP.error("\u53EA\u80FD\u4E0A\u4F20".concat(E==null?void 0:E.join("\u3001"),"\u683C\u5F0F\u6587\u4EF6\uFF01")),Ge.Z.LIST_IGNORE},A=function(D){d&&d(D.fileList)};return(0,f.jsxs)(Ge.Z,a()(a()({fileList:t,beforeUpload:y,onChange:A},s),{},{children:[n===void 0&&i==="picture-card"?(0,f.jsx)(Qr.Z,{}):n,n===void 0&&i==="picture"?(0,f.jsx)(re.ZP,{icon:(0,f.jsx)(Be.Z,{}),children:"Upload"}):n,n===void 0&&i==="text"?(0,f.jsx)(re.ZP,{icon:(0,f.jsx)(Be.Z,{}),children:"Upload"}):n]}))},ea=qr,ra=["name","label","formItemProps","initialValue","rules"],aa=function(e){var t=e.name,d=e.label,r=e.formItemProps,n=r===void 0?{}:r,u=e.initialValue,s=e.rules,i=te()(e,ra);return u!==void 0&&(n.initialValue=u),(0,f.jsx)(Y.Z.Item,a()(a()({},n),{},{name:t,label:d,rules:s,children:(0,f.jsx)(ea,a()({},i))}))},na=aa},70338:function(Ee,De,l){"use strict";l.d(De,{Sv:function(){return Ie},he:function(){return a},ms:function(){return z},uC:function(){return $e}});var Ce=l(97857),oe=l.n(Ce),ye=l(11238),a=function(de,p){return(0,ye.ZP)(de,oe()({method:"GET"},p)).then(function(le){return le.result})},$e=function(de,p){return(0,ye.ZP)(de,{method:"POST",data:p})},z=function(de,p){return(0,ye.ZP)(de,oe()({method:"GET"},p))},Ie=function(de){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,ye.ZP)(de,{method:"POST",responseType:"blob",data:p})}},36404:function(Ee,De,l){"use strict";l.d(De,{$v:function(){return de},kn:function(){return p},lr:function(){return te},zk:function(){return Ie}});var Ce=l(97857),oe=l.n(Ce),ye=l(15009),a=l.n(ye),$e=l(99289),z=l.n($e);function Ie(le){for(var j=le.initArr,N=le.childrenField,K=le.newArr,re=K===void 0?[]:K,O=0;O<(j==null?void 0:j.length);O++){var H,Q=j[O];Q[N]&&(H=Q[N])!==null&&H!==void 0&&H.length&&Ie({initArr:Q[N],newArr:re,childrenField:N}),re.push(Q)}return re}var te=function(){var le=z()(a()().mark(function j(N,K){var re,O;return a()().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:re=window.URL.createObjectURL(N),O=document.createElement("a"),document.body.appendChild(O),O.style.display="none",O.href=re,O.setAttribute("download",K),O.click(),document.body.removeChild(O);case 8:case"end":return Q.stop()}},j)}));return function(N,K){return le.apply(this,arguments)}}(),de=function(){var le=z()(a()().mark(function j(N){var K;return a()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return K=new Promise(function(H,Q){window.URL=window.URL||window.webkitURL;var ce=new XMLHttpRequest;ce.open("get",N,!0),ce.responseType="blob",ce.setRequestHeader("Access-Control-Allow-Origin","*"),ce.onload=function(){if(this.status===200){var x=this.response,ve=new FileReader;ve.onloadend=function(fe){var f;H(fe==null||(f=fe.target)===null||f===void 0?void 0:f.result)},ve.readAsDataURL(x)}},ce.onerror=function(){console.error("**\u8F6Cbase64\u5931\u8D25**"),Q("**\u8F6Cbase64\u5931\u8D25**")},ce.send()}),O.abrupt("return",K);case 2:case"end":return O.stop()}},j)}));return function(N){return le.apply(this,arguments)}}(),p=function le(j){var N=j.initArr,K=j.initChildrenFieldName,re=j.resChildrenFieldName,O=j.rotorObj;return N==null?void 0:N.map(function(H){var Q=oe()({},O(H));if(H!=null&&H[K]){var ce=le({initArr:H==null?void 0:H[K],initChildrenFieldName:K,resChildrenFieldName:re,rotorObj:O});Q[re]=ce}return Q})}},24654:function(){}}]);
