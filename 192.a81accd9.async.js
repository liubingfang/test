(self.webpackChunk_aniyajs_components=self.webpackChunk_aniyajs_components||[]).push([[192],{7774:function(Le,Ce,o){"use strict";o.d(Ce,{lD:function(){return qe},cY:function(){return ur},Ay:function(){return dr},TX:function(){return ya},lZ:function(){return cr},Bg:function(){return hr},SV:function(){return Cr},_S:function(){return Vr},FT:function(){return Er},mF:function(){return Fr},W:function(){return Ur},lr:function(){return zr},eT:function(){return Xr},L2:function(){return na},Xt:function(){return da},hG:function(){return Pa},xn:function(){return Je}});var $e=o(19632),ce=o.n($e),ye=o(97857),r=o.n(ye),ke=o(5574),N=o.n(ke),Se=o(13769),ie=o.n(Se),ve=o(15009),h=o.n(ve),oe=o(99289),$=o.n(oe),ee=o(69753),X=o(2453),ue=o(97029),B=o(74295),re=o.n(B),te=o(55733),he=o.n(te),x=o(67294),de=o(70338),me=o(36404),f=o(85893),He=["children","isAsync","downloadUrl","data","buttonTypeProps","folderName","excelProps","folderData","beforeDownloadFn","asyncFn"],Xe=function C(e,n){return new Promise(function(){var d=$()(h()().mark(function a(t,u){var l,i,p,w,j,E;return h()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:l=0;case 1:if(!(l<n.length)){V.next=21;break}if(w=n[l],w.folderName&&(i=w.data)!==null&&i!==void 0&&i.length&&(j=e.folder(w.folderName),C(j,w.data)),w.folderName&&!((p=w.data)!==null&&p!==void 0&&p.length)&&e.folder(w.folderName),!w.fileName){V.next=18;break}if(w.content&&e.file(w.fileName,w.content),!w.imageUrl){V.next=18;break}return V.prev=8,V.next=11,(0,me.$v)(w.imageUrl);case 11:E=V.sent,e.file(w.fileName,E.substring(22),{base64:!0}),V.next=18;break;case 15:V.prev=15,V.t0=V.catch(8),u(V.t0);case 18:l++,V.next=1;break;case 21:t(e);case 22:case"end":return V.stop()}},a,null,[[8,15]])}));return function(a,t){return d.apply(this,arguments)}}())},Ye=function(e){var n=e.children,d=n===void 0?"Download":n,a=e.isAsync,t=a===void 0?!0:a,u=e.downloadUrl,l=e.data,i=l===void 0?{}:l,p=e.buttonTypeProps,w=e.folderName,j=e.excelProps,E=e.folderData,T=e.beforeDownloadFn,V=e.asyncFn,Q=ie()(e,He),Y=(0,x.useState)(!1),R=N()(Y,2),_=R[0],K=R[1],le=function(){var m=$()(h()().mark(function y(){var v,c,b,I,P,s,S,k,L,A;return h()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return P=(v=j==null||(c=j.columns)===null||c===void 0?void 0:c.map(function(F,z){var q,pe;return r()(r()({},F),{},{width:(q=j==null||(pe=j.columnsWidth)===null||pe===void 0?void 0:pe[z])!==null&&q!==void 0?q:10})}))!==null&&v!==void 0?v:[],s=new(re()).Workbook,S=s.addWorksheet("My Sheet",{views:[{state:"frozen",ySplit:1}]}),S.columns=ce()(P),S.addRows((b=j==null||(I=j.dataSource)===null||I===void 0?void 0:I.map(function(F){var z=r()({},F);return Object.keys(F).forEach(function(q){z[q]=String(z[q]===void 0||z[q]===null?"":z[q])}),z}))!==null&&b!==void 0?b:[]),S.eachRow({includeEmpty:!0},function(F){F.alignment={vertical:"middle",horizontal:"center",wrapText:!0},F.font={size:9},F.height=16}),k=S.getRow(1),k.alignment={vertical:"middle",horizontal:"center",wrapText:!0},k.height=22,k.font={bold:!0,size:10},W.next=12,s.xlsx.writeBuffer();case 12:return L=W.sent,A=new Blob([L],{type:"xlsx"}),W.next=16,(0,me.lr)(A,w);case 16:X.ZP.success("\u5BFC\u51FA\u6210\u529F",1,function(){K(!1)});case 17:case"end":return W.stop()}},y)}));return function(){return m.apply(this,arguments)}}(),se=function(){var m=$()(h()().mark(function y(){var v,c;return h()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return v=new(he()),I.prev=1,I.next=4,Xe(v,E!=null?E:[]);case 4:return I.next=6,v.generateAsync({type:"blob"});case 6:return c=I.sent,I.next=9,(0,me.lr)(c,w);case 9:X.ZP.success("\u5BFC\u51FA\u6210\u529F",1,function(){K(!1)}),I.next=15;break;case 12:I.prev=12,I.t0=I.catch(1),X.ZP.error("\u5BFC\u51FA\u5931\u8D25",1,function(){K(!1)});case 15:case"end":return I.stop()}},y,null,[[1,12]])}));return function(){return m.apply(this,arguments)}}(),O=function(){var m=$()(h()().mark(function y(v,c){var b,I;return h()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!V){s.next=4;break}return s.next=3,V(v,c).then(function(S){S&&(0,me.lr)(S,w),K(!1)});case 3:return s.abrupt("return");case 4:return s.next=6,(0,de.Sv)(v,c);case 6:if(b=s.sent,!b){s.next=16;break}if(b.type!=="application/json"){s.next=13;break}return I=new FileReader,I.readAsText(b,"utf-8"),I.onload=function(S){var k,L,A=(k=S.target)!==null&&k!==void 0&&k.result?JSON.parse((L=S.target)===null||L===void 0?void 0:L.result):{message:"\u5BFC\u51FA\u5931\u8D25"},G=A.message;X.ZP.error(G,1,function(){K(!1)})},s.abrupt("return",!1);case 13:return s.next=15,(0,me.lr)(b,w);case 15:X.ZP.success("\u5BFC\u51FA\u6210\u529F",1,function(){K(!1)});case 16:case"end":return s.stop()}},y)}));return function(v,c){return m.apply(this,arguments)}}(),g=function(){var m=$()(h()().mark(function y(){var v,c,b,I;return h()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!(T&&T()||!T)){s.next=24;break}if(w){s.next=4;break}return console.log(new Error("error: folderName property may not exist or be null")),s.abrupt("return");case 4:if(!t){s.next=13;break}if(u){s.next=8;break}return console.log(new Error("error: downloadUrl property may not exist or be null")),s.abrupt("return");case 8:return K(!0),s.next=11,O(u,i);case 11:s.next=24;break;case 13:if(K(!0),!j){s.next=17;break}return s.next=17,le();case 17:if(!E){s.next=24;break}if(E){s.next=20;break}return s.abrupt("return",!1);case 20:return I=(v=(c=(0,me.zk)({initArr:E,childrenField:"data"}))===null||c===void 0||(b=c.filter(function(S){return(S==null?void 0:S.data)===void 0}))===null||b===void 0?void 0:b.length)!==null&&v!==void 0?v:0,console.log("\u542B\u6709\u6587\u4EF6\u5939\u3001\u6587\u4EF6\u6570\u91CF",I),s.next=24,se();case 24:case"end":return s.stop()}},y)}));return function(){return m.apply(this,arguments)}}();return(0,f.jsx)("span",r()(r()({className:"adownload-file"},Q),{},{children:p?(0,f.jsx)(ue.ZP,r()(r()({type:"primary",icon:(0,f.jsx)(ee.Z,{rev:void 0}),size:"middle",onClick:g,loading:_},p),{},{children:d})):(0,f.jsx)("span",{className:"adownload-file-text",onClick:g,children:d})}))},Je=(0,x.memo)(Ye),H=o(31779),Qe=o(49288),_e=function(e){var n=e.name,d=e.label,a=e.formItemProps,t=a===void 0?{}:a,u=e.initialValue,l=e.rules,i=e.widgetProps,p=e.selectOptions,w=e.url,j=e.formatter,E=e.asyncFn,T=e.onSearch,V=(0,x.useState)([]),Q=N()(V,2),Y=Q[0],R=Q[1];(0,x.useEffect)(function(){p&&R(p)},[p]);var _=function(O){if(j){var g=j(O);return g}return O},K=function(){var se=$()(h()().mark(function O(g,m){return h()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(!E){v.next=6;break}return v.next=3,E(g,m);case 3:v.t0=v.sent,v.next=9;break;case 6:return v.next=8,(0,de.he)(g,{params:{search:m}});case 8:v.t0=v.sent;case 9:return v.abrupt("return",v.t0);case 10:case"end":return v.stop()}},O)}));return function(g,m){return se.apply(this,arguments)}}(),le=function(){var se=$()(h()().mark(function O(g){var m,y;return h()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!w){c.next=6;break}return c.next=3,K(w,g);case 3:m=c.sent,y=_(m),R(ce()(y));case 6:T&&T(g);case 7:case"end":return c.stop()}},O)}));return function(g){return se.apply(this,arguments)}}();return u!==void 0&&(t.initialValue=u),(0,f.jsx)(H.Z.Item,r()(r()({},t),{},{name:n,label:d,rules:l,children:(0,f.jsx)(Qe.Z,r()(r()({},i),{},{onSearch:le,options:Y}))}))},qe=_e,er=o(9783),we=o.n(er),rr=o(59729),Fe=o(97435),ar=function C(e,n,d){return e==null?void 0:e.map(function(a){return(a==null?void 0:a.value)===d?a.children=n:a.children&&C(a.children,n,d),r()({},a)})},nr=function(e){var n=e.value,d=e.onChange,a=e.selectOptions,t=e.loadDataOptions,u=e.formatter,l=e.asyncFn,i=e.widgetProps,p=(0,Fe.Z)(i,["options"]),w=(0,x.useState)(a!=null?a:[]),j=N()(w,2),E=j[0],T=j[1],V=(0,x.useState)(!1),Q=N()(V,2),Y=Q[0],R=Q[1],_=function(){var O=$()(h()().mark(function g(m,y){var v;return h()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(!l){b.next=9;break}return b.next=3,l(m,y);case 3:if(v=b.sent,v!==!1){b.next=8;break}return b.next=7,(0,de.he)(m.url,m==null?void 0:m.options);case 7:return b.abrupt("return",b.sent);case 8:return b.abrupt("return",v);case 9:return b.next=11,(0,de.he)(m.url,m==null?void 0:m.options);case 11:return b.abrupt("return",b.sent);case 12:case"end":return b.stop()}},g)}));return function(m,y){return O.apply(this,arguments)}}(),K=function(g,m,y,v){if(u){var c=u(g,m,y);return c===!1?g==null?void 0:g.map(function(b){return r()(r()({},b),{},{isLeaf:v})}):c}return g==null?void 0:g.map(function(b){return r()(r()({},b),{},{isLeaf:v})})};(0,x.useEffect)(function(){$()(h()().mark(function O(){var g,m,y,v,c,b;return h()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(g=t==null?void 0:t[0],!g){P.next=10;break}return m=g.action,y={url:m},R(!0),P.next=7,_(y,0);case 7:v=P.sent,R(!1),T(K(v,g,0,(t==null?void 0:t.length)===1));case 10:if(!(Array.isArray(n)&&(n==null?void 0:n.length)>0)){P.next=18;break}c=h()().mark(function s(S){var k,L,A,G,W;return h()().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(k=t==null?void 0:t[S],!k){z.next=10;break}return L=k.action,A=k.queryKey,G={url:L,options:r()({},A?{params:we()({},String(A),n==null?void 0:n[S-1])}:null)},R(!0),z.next=7,_(G,S);case 7:W=z.sent,R(!1),T(function(q){var pe=K(W,g,S,(t==null?void 0:t.length)-1===S);return ar(q,pe,n==null?void 0:n[S-1])});case 10:case"end":return z.stop()}},s)}),b=1;case 13:if(!(b<n.length)){P.next=18;break}return P.delegateYield(c(b),"t0",15);case 15:b++,P.next=13;break;case 18:case"end":return P.stop()}},O)}))()},[]);var le=function(){var O=$()(h()().mark(function g(m){var y,v,c,b,I,P,s,S,k;return h()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(!(Array.isArray(m)&&t)){A.next=18;break}if(y=m.length-1,v=m[y],c=y+2===(t==null?void 0:t.length),v.loading=!0,b=v.value,I=t[y+1],!I){A.next=18;break}return P=I.action,s=I.queryKey,S={url:P,options:r()({},s?{params:we()({},String(s),b)}:null)},R(!0),A.next=13,_(S,y+1);case 13:k=A.sent,R(!1),v.loading=!1,v.children=K(k,I,y+1,c),T(function(G){return ce()(G)});case 18:case"end":return A.stop()}},g)}));return function(m){return O.apply(this,arguments)}}(),se=function(g){d&&d(g)};return(0,f.jsx)(rr.Z,r()(r()({loading:Y,value:n,options:E,onChange:se},t?{loadData:le}:null),p))},tr=nr,lr=["name","label","formItemProps","initialValue","rules"],ir=function(e){var n=e.name,d=e.label,a=e.formItemProps,t=a===void 0?{}:a,u=e.initialValue,l=e.rules,i=ie()(e,lr);return u!==void 0&&(t.initialValue=u),(0,f.jsx)(H.Z.Item,r()(r()({},t),{},{name:n,label:d,rules:l,children:(0,f.jsx)(tr,r()({},i))}))},ur=ir,sr=o(84567),or=function(e){var n=e.name,d=e.label,a=e.formItemProps,t=a===void 0?{}:a,u=e.initialValue,l=e.rules,i=e.widgetProps,p=e.options;return u!==void 0&&(t.initialValue=u),(0,f.jsx)(H.Z.Item,r()(r()({},t),{},{name:n,label:d,rules:l,children:(0,f.jsx)(sr.Z.Group,r()({options:p},i))}))},dr=or,Re=o(57206),Ze=o(5584),ja=o(33852),fr=function(e){var n=e.name,d=e.label,a=e.formItemProps,t=a===void 0?{}:a,u=e.initialValue,l=e.rules,i=e.widgetProps;return u!==void 0&&(t.initialValue=u),(0,f.jsx)(H.Z.Item,r()(r()({},t),{},{name:n,label:d,rules:l,children:(0,f.jsx)(Re.Z,r()({locale:Ze.Z},i))}))},cr=fr,vr=Re.Z.RangePicker,mr=function(e){var n=e.name,d=e.label,a=e.formItemProps,t=a===void 0?{}:a,u=e.initialValue,l=e.rules,i=e.widgetProps;return u!==void 0&&(t.initialValue=u),(0,f.jsx)(H.Z.Item,r()(r()({},t),{},{name:n,label:d,rules:l,children:(0,f.jsx)(vr,r()({locale:Ze.Z},i))}))},hr=mr,pr=o(12444),Oe=o.n(pr),Pr=o(72004),Ue=o.n(Pr),gr=o(31996),We=o.n(gr),br=o(26037),Ke=o.n(br),Ve=o(24482),Te=function(C){We()(n,C);var e=Ke()(n);function n(){return Oe()(this,n),e.apply(this,arguments)}return Ue()(n,[{key:"render",value:function(){var a=this.props,t=a.name,u=a.label,l=a.formItemProps,i=l===void 0?{}:l,p=a.initialValue,w=a.rules,j=a.widgetProps,E=j===void 0?{}:j;return p!==void 0&&(i.initialValue=p),(0,f.jsx)(H.Z.Item,r()(r()({},i),{},{name:t,label:u,rules:w,children:(0,f.jsx)(Ve.Z,r()({},E))}))}}]),n}(x.Component);we()(Te,"TextArea",void 0),we()(Te,"Password",void 0),we()(Te,"Number",void 0);var Ee=Te,yr=function(e){var n=e.name,d=e.label,a=e.formItemProps,t=a===void 0?{}:a,u=e.initialValue,l=e.rules,i=e.widgetProps,p=i===void 0?{}:i;return u!==void 0&&(t.initialValue=u),(0,f.jsx)(H.Z.Item,r()(r()({},t),{},{name:n,label:d,rules:l,children:(0,f.jsx)(Ve.Z.TextArea,r()({},p))}))},wr=yr,Ir=function(e){var n=e.name,d=e.label,a=e.formItemProps,t=a===void 0?{}:a,u=e.initialValue,l=e.rules,i=e.widgetProps,p=i===void 0?{}:i;return u!==void 0&&(t.initialValue=u),(0,f.jsx)(H.Z.Item,r()(r()({},t),{},{name:n,label:d,rules:l,children:(0,f.jsx)(Ve.Z.Password,r()({},p))}))},Ar=Ir,Sr=o(14699),jr=function(e){var n=e.name,d=e.label,a=e.formItemProps,t=a===void 0?{}:a,u=e.initialValue,l=e.rules,i=e.widgetProps,p=i===void 0?{}:i;return u!==void 0&&(t.initialValue=u),(0,f.jsx)(H.Z.Item,r()(r()({},t),{},{name:n,label:d,rules:l,children:(0,f.jsx)(Sr.Z,r()({},p))}))},Dr=jr;Ee.TextArea=wr,Ee.Password=Ar,Ee.Number=Dr;var Cr=Ee,$r=o(78045),kr=function(e){var n=e.name,d=e.label,a=e.formItemProps,t=a===void 0?{}:a,u=e.initialValue,l=e.rules,i=e.widgetProps,p=e.options;return u!==void 0&&(t.initialValue=u),(0,f.jsx)(H.Z.Item,r()(r()({},t),{},{name:n,label:d,rules:l,children:(0,f.jsx)($r.ZP.Group,r()({options:p},i))}))},Vr=kr,Zr=o(94411),Tr=function(e){var n=e.name,d=e.label,a=e.formItemProps,t=a===void 0?{}:a,u=e.initialValue,l=e.rules,i=e.widgetProps;return u!==void 0&&(t.initialValue=u),(0,f.jsx)(H.Z.Item,r()(r()({},t),{},{name:n,label:d,rules:l,children:(0,f.jsx)(Zr.Z,r()({},i))}))},Er=Tr,xr=o(34041),Lr=function(e){var n=e.name,d=e.label,a=e.formItemProps,t=a===void 0?{}:a,u=e.initialValue,l=e.rules,i=e.widgetProps,p=e.selectOptions,w=e.url,j=e.formatter,E=e.asyncFn,T=(0,x.useState)(!1),V=N()(T,2),Q=V[0],Y=V[1],R=(0,x.useState)(p),_=N()(R,2),K=_[0],le=_[1];u!==void 0&&(t.initialValue=u);var se=function(m){if(j){var y=j(m);return y}return m},O=function(){var g=$()(h()().mark(function m(y){return h()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!E){c.next=6;break}return c.next=3,E(y);case 3:c.t0=c.sent,c.next=9;break;case 6:return c.next=8,(0,de.he)(y);case 8:c.t0=c.sent;case 9:return c.abrupt("return",c.t0);case 10:case"end":return c.stop()}},m)}));return function(y){return g.apply(this,arguments)}}();return(0,x.useEffect)(function(){$()(h()().mark(function g(){var m,y;return h()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!w){c.next=8;break}return Y(!0),c.next=4,O(w);case 4:m=c.sent,Y(!1),y=se(m),le(y);case 8:case"end":return c.stop()}},g)}))()},[]),(0,f.jsx)(H.Z.Item,r()(r()({},t),{},{name:n,label:d,rules:l,children:(0,f.jsx)(xr.Z,r()({loading:Q,options:K},i))}))},Fr=Lr,Rr=o(71338),Or=function(e){var n=e.name,d=e.label,a=e.formItemProps,t=a===void 0?{}:a,u=e.initialValue,l=e.rules,i=e.widgetProps;return u!==void 0&&(t.initialValue=u),(0,f.jsx)(H.Z.Item,r()(r()({},t),{},{name:n,label:d,rules:l,children:(0,f.jsx)(Rr.Z,r()({},i))}))},Ur=Or,Wr=o(72269),Kr=function(e){var n=e.value,d=e.onChange,a=e.widgetProps,t=function(l){d&&d(l)};return(0,f.jsx)(Wr.Z,r()({checked:n,onChange:t},a))},Mr=Kr,Br=["name","label","formItemProps","initialValue","rules"],Gr=function(e){var n=e.name,d=e.label,a=e.formItemProps,t=a===void 0?{}:a,u=e.initialValue,l=u===void 0?!1:u,i=e.rules,p=ie()(e,Br);return l!==void 0&&(t.initialValue=l),(0,f.jsx)(H.Z.Item,r()(r()({},t),{},{name:n,label:d,rules:i,children:(0,f.jsx)(Mr,r()({},p))}))},zr=Gr,Me=o(68351),Be=function(C){We()(n,C);var e=Ke()(n);function n(){return Oe()(this,n),e.apply(this,arguments)}return Ue()(n,[{key:"render",value:function(){var a=this.props,t=a.name,u=a.label,l=a.formItemProps,i=l===void 0?{}:l,p=a.initialValue,w=a.rules,j=a.widgetProps,E=j===void 0?{}:j;return p!==void 0&&(i.initialValue=p),(0,f.jsx)(H.Z.Item,r()(r()({},i),{},{name:t,label:u,rules:w,children:(0,f.jsx)(Me.Z,r()({locale:Ze.Z},E))}))}}]),n}(x.Component);we()(Be,"RangePicker",void 0);var Ge=Be,Nr=function(e){var n=e.name,d=e.label,a=e.formItemProps,t=a===void 0?{}:a,u=e.initialValue,l=e.rules,i=e.widgetProps,p=i===void 0?{}:i;return u!==void 0&&(t.initialValue=u),(0,f.jsx)(H.Z.Item,r()(r()({},t),{},{name:n,label:d,rules:l,children:(0,f.jsx)(Me.Z.RangePicker,r()({locale:Ze.Z},p))}))},Hr=Nr;Ge.RangePicker=Hr;var Xr=Ge,Yr=o(75081),Jr=o(67348),Qr=["checkStrictly","checkable"],_r=function C(e,n,d){return e.map(function(a){return a.key===d?r()(r()({},a),{},{isLeaf:!(n!=null&&n.length),children:n}):a.children?r()(r()({},a),{},{children:C(a.children,n,d)}):a})},qr=function(e){var n=e.value,d=e.onChange,a=e.checkStrictlyChecked,t=e.widgetProps,u=e.treeData,l=e.url,i=e.loadDataOptions,p=e.formatter,w=e.asyncFn,j=t.checkStrictly,E=t.checkable,T=ie()(t,Qr),V=(0,Fe.Z)(T,["onSelect","onCheck"]),Q=(0,x.useState)(!0),Y=N()(Q,2),R=Y[0],_=Y[1],K=(0,x.useState)(),le=N()(K,2),se=le[0],O=le[1],g=(0,x.useState)(),m=N()(g,2),y=m[0],v=m[1],c=(0,x.useState)(),b=N()(c,2),I=b[0],P=b[1],s=(0,x.useState)(!1),S=N()(s,2),k=S[0],L=S[1],A=(0,x.useState)(u),G=N()(A,2),W=G[0],F=G[1],z=(0,x.useRef)(!1);(0,x.useEffect)(function(){W&&(W==null?void 0:W.length)>0&&n&&!z.current&&!l&&(P(n),z.current=!0)},[W,n]);var q=function(D,Z,ae,M){if(Z){if(p){var U=p(D,ae);return U===!1?D==null?void 0:D.map(function(fe){return r()(r()({},fe),{},{isLeaf:M})}):U}return D==null?void 0:D.map(function(fe){return r()(r()({},fe),{},{isLeaf:M})})}else{if(p){var ne=p(D);return ne===!1?D:ne}return D}},pe=function(){var Pe=$()(h()().mark(function D(Z,ae){var M;return h()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(!w){U.next=9;break}return U.next=3,w(Z,ae);case 3:if(M=U.sent,M!==!1){U.next=8;break}return U.next=7,(0,de.he)(Z.url,Z==null?void 0:Z.options);case 7:return U.abrupt("return",U.sent);case 8:return U.abrupt("return",M);case 9:return U.next=11,(0,de.he)(Z.url,Z==null?void 0:Z.options);case 11:return U.abrupt("return",U.sent);case 12:case"end":return U.stop()}},D)}));return function(Z,ae){return Pe.apply(this,arguments)}}();(0,x.useEffect)(function(){$()(h()().mark(function Pe(){var D,Z,ae,M,ne,U,fe;return h()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(!l){J.next=10;break}return L(!0),J.next=4,pe({url:l});case 4:return D=J.sent,L(!1),Z=q(D,!1),F(Z),P(n),J.abrupt("return");case 10:if(ae=i==null?void 0:i[0],!ae){J.next=21;break}return M=ae.action,ne={url:M},L(!0),J.next=17,pe(ne,0);case 17:U=J.sent,fe=q(U,!0,0,(i==null?void 0:i.length)===1),F(fe),L(!1);case 21:case"end":return J.stop()}},Pe)}))()},[]);var Ie=function(){var Pe=$()(h()().mark(function D(Z){var ae,M,ne,U,fe,Ae,J,je,De;return h()().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:if(!(Array.isArray(i)&&i)){be.next=11;break}return M=Z==null||(ae=Z.pos)===null||ae===void 0?void 0:ae.split("-"),ne=(M==null?void 0:M.length)-2,U=ne+2===(i==null?void 0:i.length),fe=i==null?void 0:i[ne+1],Ae=fe.action,J=fe.queryKey,je={url:Ae,options:r()({},J?{params:we()({},String(J),Z==null?void 0:Z.key)}:null)},be.next=9,pe(je,ne+1);case 9:De=be.sent,F(function(Sa){return _r(Sa,q(De,!0,ne+1,U),Z==null?void 0:Z.key)});case 11:case"end":return be.stop()}},D)}));return function(Z){return Pe.apply(this,arguments)}}(),xe=function(D){d&&d(D)},wa=function(D,Z){T.onSelect&&T.onSelect(D,Z),O(D),xe(D)},Ia=function(D,Z){var ae,M=D;if(j&&a&&!Array.isArray(D)){var ne,U=Z.node,fe=Z.checked,Ae=(ne=(0,me.zk)({initArr:[U],childrenField:"children"}))===null||ne===void 0?void 0:ne.map(function(ge){return ge==null?void 0:ge.key});if(fe){var J;M=[].concat(ce()(Ae),ce()((J=D==null?void 0:D.checked)!==null&&J!==void 0?J:[])).reduce(function(ge,be){return ge.indexOf(be)===-1?[].concat(ce()(ge),[be]):ge},[])}else{var je;M=D==null||(je=D.checked)===null||je===void 0?void 0:je.filter(function(ge){return(Ae==null?void 0:Ae.indexOf(ge))===-1})}}if(T.onCheck&&T.onCheck(D,Z),(ae=M)!==null&&ae!==void 0&&ae.checked){var De;M=(De=M)===null||De===void 0?void 0:De.checked}v(M),xe(M)},Aa=function(D){z.current=!0,P(D),_(!1)};return k?(0,f.jsx)(Yr.Z,{}):(!W||!(W!=null&&W.length))&&!k?(0,f.jsx)(Ve.Z,{style:{backgroundColor:"#fff"},placeholder:"\u6682\u65E0\u6570\u636E",disabled:!0}):(0,f.jsx)(Jr.Z,r()(r()({autoExpandParent:R,expandedKeys:I,treeData:W,selectedKeys:n||se,checkedKeys:n||y,onSelect:wa,onExpand:Aa,onCheck:Ia,checkStrictly:j,checkable:E,selectable:!E},i?{loadData:Ie}:null),V))},ea=qr,ra=["name","label","formItemProps","initialValue","rules"],aa=function(e){var n=e.name,d=e.label,a=e.formItemProps,t=a===void 0?{}:a,u=e.initialValue,l=e.rules,i=ie()(e,ra);return u!==void 0&&(t.initialValue=u),(0,f.jsx)(H.Z.Item,r()(r()({},t),{},{name:n,label:d,rules:l,children:(0,f.jsx)(ea,r()({},i))}))},na=aa,ta=o(59847),la=function C(e,n,d){return e.map(function(a){return a.value===d?r()(r()({},a),{},{isLeaf:!(n!=null&&n.length),children:n}):a.children?r()(r()({},a),{},{children:C(a.children,n,d)}):a})},ia=function(e){var n=e.value,d=e.onChange,a=e.treeData,t=e.url,u=e.asyncFn,l=e.loadDataOptions,i=e.formatter,p=e.widgetProps,w=p.treeCheckStrictly,j=p.treeCheckable,E=p.multiple,T=(0,x.useState)(),V=N()(T,2),Q=V[0],Y=V[1],R=(0,x.useState)(!1),_=N()(R,2),K=_[0],le=_[1],se=(0,x.useState)(a),O=N()(se,2),g=O[0],m=O[1],y=function(P,s,S,k){if(s){if(i){var A=i(P,S);return A===!1?P==null?void 0:P.map(function(G){return r()(r()({},G),{},{isLeaf:k})}):A}return P==null?void 0:P.map(function(G){return r()(r()({},G),{},{isLeaf:k})})}else{if(i){var L=i(P);return L===!1?P:L}return P}},v=function(){var I=$()(h()().mark(function P(s,S){var k;return h()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(!u){A.next=9;break}return A.next=3,u(s,S);case 3:if(k=A.sent,k!==!1){A.next=8;break}return A.next=7,(0,de.he)(s.url,s==null?void 0:s.options);case 7:return A.abrupt("return",A.sent);case 8:return A.abrupt("return",k);case 9:return A.next=11,(0,de.he)(s.url,s==null?void 0:s.options);case 11:return A.abrupt("return",A.sent);case 12:case"end":return A.stop()}},P)}));return function(s,S){return I.apply(this,arguments)}}();(0,x.useEffect)(function(){$()(h()().mark(function I(){var P,s,S,k,L,A,G;return h()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(!t){F.next=9;break}return le(!0),F.next=4,v({url:t});case 4:return P=F.sent,le(!1),s=y(P,!1),m(s),F.abrupt("return");case 9:if(S=l==null?void 0:l[0],!S){F.next=20;break}return k=S.action,L={url:k},le(!0),F.next=16,v(L,0);case 16:A=F.sent,G=y(A,!0,0,(l==null?void 0:l.length)===1),m(G),le(!1);case 20:case"end":return F.stop()}},I)}))()},[]),(0,x.useEffect)(function(){if(Array.isArray(n)){if(w){Y(n==null?void 0:n.map(function(I){return{value:I}}));return}if(!j&&!E){Y(n==null?void 0:n[0]);return}Y(n)}},[n]);var c=function(){var I=$()(h()().mark(function P(s){var S,k,L,A,G,W,F,z,q;return h()().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:if(!(Array.isArray(l)&&l)){Ie.next=11;break}return k=s==null||(S=s.pos)===null||S===void 0?void 0:S.split("-"),L=(k==null?void 0:k.length)-2,A=L+2===(l==null?void 0:l.length),G=l==null?void 0:l[L+1],W=G.action,F=G.queryKey,z={url:W,options:r()({},F?{params:we()({},String(F),s==null?void 0:s.value)}:null)},Ie.next=9,v(z,L+1);case 9:q=Ie.sent,m(function(xe){return la(xe,y(q,!0,L+1,A),s==null?void 0:s.value)});case 11:case"end":return Ie.stop()}},P)}));return function(s){return I.apply(this,arguments)}}(),b=function(P){if(d){if(w){d(P==null?void 0:P.map(function(s){return s==null?void 0:s.value}));return}if(!j&&!E){d([P]);return}d(P)}};return(!g||!(g!=null&&g.length))&&!K?(0,f.jsx)(Ve.Z,{style:{backgroundColor:"#fff"},placeholder:"\u6682\u65E0\u6570\u636E",disabled:!0}):(0,f.jsx)(ta.Z,r()(r()({loading:K,value:Q,onChange:b,treeData:g,treeDefaultExpandedKeys:n,showCheckedStrategy:w||!j&&E?"SHOW_ALL":"SHOW_CHILD"},l?{loadData:c}:null),p))},ua=ia,sa=["name","label","formItemProps","initialValue","rules"],oa=function(e){var n=e.name,d=e.label,a=e.formItemProps,t=a===void 0?{}:a,u=e.initialValue,l=e.rules,i=ie()(e,sa);return u!==void 0&&(t.initialValue=u),(0,f.jsx)(H.Z.Item,r()(r()({},t),{},{name:n,label:d,rules:l,children:(0,f.jsx)(ua,r()({},i))}))},da=oa,fa=o(51042),ze=o(26859),Ne=o(69320),ca=["children","beforeUpload"],va=function(e){var n=e.value,d=e.onChange,a=e.widgetProps,t=a.children,u=a.beforeUpload,l=ie()(a,ca),i=l.listType,p=l.accept,w=function(T,V){var Q,Y;u&&u(T,V);var R=p==null?void 0:p.split(",").map(function(K){return K.trim().slice(1)}),_=T==null||(Q=T.name)===null||Q===void 0?void 0:Q.split(".")[(T==null||(Y=T.name)===null||Y===void 0?void 0:Y.split(".").length)-1];if(!(R!=null&&R.includes(_)))return X.ZP.error("\u53EA\u80FD\u4E0A\u4F20".concat(R==null?void 0:R.join("\u3001"),"\u683C\u5F0F\u6587\u4EF6\uFF01")),Ne.Z.LIST_IGNORE},j=function(T){d&&d(T.fileList)};return(0,f.jsxs)(Ne.Z,r()(r()({fileList:n,beforeUpload:w,onChange:j},l),{},{children:[t===void 0&&i==="picture-card"?(0,f.jsx)(fa.Z,{rev:void 0}):t,t===void 0&&i==="picture"?(0,f.jsx)(ue.ZP,{icon:(0,f.jsx)(ze.Z,{rev:void 0}),children:"Upload"}):t,t===void 0&&i==="text"?(0,f.jsx)(ue.ZP,{icon:(0,f.jsx)(ze.Z,{rev:void 0}),children:"Upload"}):t]}))},ma=va,ha=["name","label","formItemProps","initialValue","rules"],pa=function(e){var n=e.name,d=e.label,a=e.formItemProps,t=a===void 0?{}:a,u=e.initialValue,l=e.rules,i=ie()(e,ha);return u!==void 0&&(t.initialValue=u),(0,f.jsx)(H.Z.Item,r()(r()({},t),{},{name:n,label:d,rules:l,children:(0,f.jsx)(ma,r()({},i))}))},Pa=pa,ga=o(21736),ba=function(e){var n=e.name,d=e.label,a=e.formItemProps,t=a===void 0?{}:a,u=e.initialValue,l=e.rules,i=e.widgetProps;return u!==void 0&&(t.initialValue=u),(0,f.jsx)(H.Z.Item,r()(r()({},t),{},{name:n,label:d,rules:l,children:(0,f.jsx)(ga.Z,r()({},i))}))},ya=ba},70338:function(Le,Ce,o){"use strict";o.d(Ce,{Sv:function(){return Se},he:function(){return r},ms:function(){return N},uC:function(){return ke}});var $e=o(97857),ce=o.n($e),ye=o(11238),r=function(ve,h){return(0,ye.ZP)(ve,ce()({method:"GET"},h)).then(function(oe){return oe.result})},ke=function(ve,h){return(0,ye.ZP)(ve,{method:"POST",data:h})},N=function(ve,h){return(0,ye.ZP)(ve,ce()({method:"GET"},h))},Se=function(ve){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,ye.ZP)(ve,{method:"POST",responseType:"blob",data:h})}},36404:function(Le,Ce,o){"use strict";o.d(Ce,{$v:function(){return ve},kn:function(){return h},lr:function(){return ie},zk:function(){return Se}});var $e=o(97857),ce=o.n($e),ye=o(15009),r=o.n(ye),ke=o(99289),N=o.n(ke);function Se(oe){for(var $=oe.initArr,ee=oe.childrenField,X=oe.newArr,ue=X===void 0?[]:X,B=0;B<($==null?void 0:$.length);B++){var re,te=$[B];te[ee]&&(re=te[ee])!==null&&re!==void 0&&re.length&&Se({initArr:te[ee],newArr:ue,childrenField:ee}),ue.push(te)}return ue}var ie=function(){var oe=N()(r()().mark(function $(ee,X){var ue,B;return r()().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:ue=window.URL.createObjectURL(ee),B=document.createElement("a"),document.body.appendChild(B),B.style.display="none",B.href=ue,B.setAttribute("download",X),B.click(),document.body.removeChild(B);case 8:case"end":return te.stop()}},$)}));return function(ee,X){return oe.apply(this,arguments)}}(),ve=function(){var oe=N()(r()().mark(function $(ee){var X;return r()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return X=new Promise(function(re,te){window.URL=window.URL||window.webkitURL;var he=new XMLHttpRequest;he.open("get",ee,!0),he.responseType="blob",he.setRequestHeader("Access-Control-Allow-Origin","*"),he.onload=function(){if(this.status===200){var x=this.response,de=new FileReader;de.onloadend=function(me){var f;re(me==null||(f=me.target)===null||f===void 0?void 0:f.result)},de.readAsDataURL(x)}},he.onerror=function(){console.error("**\u8F6Cbase64\u5931\u8D25**"),te("**\u8F6Cbase64\u5931\u8D25**")},he.send()}),B.abrupt("return",X);case 2:case"end":return B.stop()}},$)}));return function(ee){return oe.apply(this,arguments)}}(),h=function oe($){var ee=$.initArr,X=$.initChildrenFieldName,ue=$.resChildrenFieldName,B=$.rotorObj;return ee==null?void 0:ee.map(function(re){var te=ce()({},B(re));if(re!=null&&re[X]){var he=oe({initArr:re==null?void 0:re[X],initChildrenFieldName:X,resChildrenFieldName:ue,rotorObj:B});te[ue]=he}return te})}},24654:function(){}}]);
