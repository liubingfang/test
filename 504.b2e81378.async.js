(self.webpackChunk_aniyajs_components=self.webpackChunk_aniyajs_components||[]).push([[504],{6349:function(Le,Ce,o){"use strict";o.d(Ce,{lD:function(){return qe},cY:function(){return ur},Ay:function(){return dr},lZ:function(){return cr},Bg:function(){return hr},SV:function(){return Cr},_S:function(){return Vr},FT:function(){return Er},mF:function(){return Fr},W:function(){return Ur},lr:function(){return zr},eT:function(){return Xr},L2:function(){return na},Xt:function(){return da},hG:function(){return Pa},xn:function(){return Je}});var $e=o(19632),ce=o.n($e),ye=o(97857),r=o.n(ye),ke=o(5574),N=o.n(ke),Ae=o(13769),ie=o.n(Ae),ve=o(15009),h=o.n(ve),oe=o(99289),C=o.n(oe),ee=o(23430),H=o(2453),ue=o(18662),B=o(74295),re=o.n(B),te=o(55733),he=o.n(te),x=o(67294),de=o(70338),me=o(36404),f=o(85893),He=["children","isAsync","downloadUrl","data","buttonTypeProps","folderName","excelProps","folderData","beforeDownloadFn","asyncFn"],Xe=function $(e,n){return new Promise(function(){var d=C()(h()().mark(function a(t,s){var l,i,p,w,D,E;return h()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:l=0;case 1:if(!(l<n.length)){V.next=21;break}if(w=n[l],w.folderName&&(i=w.data)!==null&&i!==void 0&&i.length&&(D=e.folder(w.folderName),$(D,w.data)),w.folderName&&!((p=w.data)!==null&&p!==void 0&&p.length)&&e.folder(w.folderName),!w.fileName){V.next=18;break}if(w.content&&e.file(w.fileName,w.content),!w.imageUrl){V.next=18;break}return V.prev=8,V.next=11,(0,me.$v)(w.imageUrl);case 11:E=V.sent,e.file(w.fileName,E.substring(22),{base64:!0}),V.next=18;break;case 15:V.prev=15,V.t0=V.catch(8),s(V.t0);case 18:l++,V.next=1;break;case 21:t(e);case 22:case"end":return V.stop()}},a,null,[[8,15]])}));return function(a,t){return d.apply(this,arguments)}}())},Ye=function(e){var n=e.children,d=n===void 0?"Download":n,a=e.isAsync,t=a===void 0?!0:a,s=e.downloadUrl,l=e.data,i=l===void 0?{}:l,p=e.buttonTypeProps,w=e.folderName,D=e.excelProps,E=e.folderData,Z=e.beforeDownloadFn,V=e.asyncFn,Q=ie()(e,He),Y=(0,x.useState)(!1),R=N()(Y,2),_=R[0],K=R[1],le=function(){var m=C()(h()().mark(function y(){var v,c,b,I,P,u,A,k,L,S;return h()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return P=(v=D==null||(c=D.columns)===null||c===void 0?void 0:c.map(function(F,z){var q,pe;return r()(r()({},F),{},{width:(q=D==null||(pe=D.columnsWidth)===null||pe===void 0?void 0:pe[z])!==null&&q!==void 0?q:10})}))!==null&&v!==void 0?v:[],u=new(re()).Workbook,A=u.addWorksheet("My Sheet",{views:[{state:"frozen",ySplit:1}]}),A.columns=ce()(P),A.addRows((b=D==null||(I=D.dataSource)===null||I===void 0?void 0:I.map(function(F){var z=r()({},F);return Object.keys(F).forEach(function(q){z[q]=String(z[q]===void 0||z[q]===null?"":z[q])}),z}))!==null&&b!==void 0?b:[]),A.eachRow({includeEmpty:!0},function(F){F.alignment={vertical:"middle",horizontal:"center",wrapText:!0},F.font={size:9},F.height=16}),k=A.getRow(1),k.alignment={vertical:"middle",horizontal:"center",wrapText:!0},k.height=22,k.font={bold:!0,size:10},W.next=12,u.xlsx.writeBuffer();case 12:return L=W.sent,S=new Blob([L],{type:"xlsx"}),W.next=16,(0,me.lr)(S,w);case 16:H.ZP.success("\u5BFC\u51FA\u6210\u529F",1,function(){K(!1)});case 17:case"end":return W.stop()}},y)}));return function(){return m.apply(this,arguments)}}(),se=function(){var m=C()(h()().mark(function y(){var v,c;return h()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return v=new(he()),I.prev=1,I.next=4,Xe(v,E!=null?E:[]);case 4:return I.next=6,v.generateAsync({type:"blob"});case 6:return c=I.sent,I.next=9,(0,me.lr)(c,w);case 9:H.ZP.success("\u5BFC\u51FA\u6210\u529F",1,function(){K(!1)}),I.next=15;break;case 12:I.prev=12,I.t0=I.catch(1),H.ZP.error("\u5BFC\u51FA\u5931\u8D25",1,function(){K(!1)});case 15:case"end":return I.stop()}},y,null,[[1,12]])}));return function(){return m.apply(this,arguments)}}(),O=function(){var m=C()(h()().mark(function y(v,c){var b,I;return h()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!V){u.next=4;break}return u.next=3,V(v,c).then(function(A){A&&(0,me.lr)(A,w),K(!1)});case 3:return u.abrupt("return");case 4:return u.next=6,(0,de.Sv)(v,c);case 6:if(b=u.sent,!b){u.next=16;break}if(b.type!=="application/json"){u.next=13;break}return I=new FileReader,I.readAsText(b,"utf-8"),I.onload=function(A){var k,L,S=(k=A.target)!==null&&k!==void 0&&k.result?JSON.parse((L=A.target)===null||L===void 0?void 0:L.result):{message:"\u5BFC\u51FA\u5931\u8D25"},G=S.message;H.ZP.error(G,1,function(){K(!1)})},u.abrupt("return",!1);case 13:return u.next=15,(0,me.lr)(b,w);case 15:H.ZP.success("\u5BFC\u51FA\u6210\u529F",1,function(){K(!1)});case 16:case"end":return u.stop()}},y)}));return function(v,c){return m.apply(this,arguments)}}(),g=function(){var m=C()(h()().mark(function y(){var v,c,b,I;return h()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(Z&&Z()||!Z)){u.next=24;break}if(w){u.next=4;break}return console.log(new Error("error: folderName property may not exist or be null")),u.abrupt("return");case 4:if(!t){u.next=13;break}if(s){u.next=8;break}return console.log(new Error("error: downloadUrl property may not exist or be null")),u.abrupt("return");case 8:return K(!0),u.next=11,O(s,i);case 11:u.next=24;break;case 13:if(K(!0),!D){u.next=17;break}return u.next=17,le();case 17:if(!E){u.next=24;break}if(E){u.next=20;break}return u.abrupt("return",!1);case 20:return I=(v=(c=(0,me.zk)({initArr:E,childrenField:"data"}))===null||c===void 0||(b=c.filter(function(A){return(A==null?void 0:A.data)===void 0}))===null||b===void 0?void 0:b.length)!==null&&v!==void 0?v:0,console.log("\u542B\u6709\u6587\u4EF6\u5939\u3001\u6587\u4EF6\u6570\u91CF",I),u.next=24,se();case 24:case"end":return u.stop()}},y)}));return function(){return m.apply(this,arguments)}}();return(0,f.jsx)("span",r()(r()({className:"adownload-file"},Q),{},{children:p?(0,f.jsx)(ue.ZP,r()(r()({type:"primary",icon:(0,f.jsx)(ee.Z,{}),size:"middle",onClick:g,loading:_},p),{},{children:d})):(0,f.jsx)("span",{className:"adownload-file-text",onClick:g,children:d})}))},Je=(0,x.memo)(Ye),X=o(15228),Qe=o(49288),_e=function(e){var n=e.name,d=e.label,a=e.formItemProps,t=a===void 0?{}:a,s=e.initialValue,l=e.rules,i=e.widgetProps,p=e.selectOptions,w=e.url,D=e.formatter,E=e.asyncFn,Z=e.onSearch,V=(0,x.useState)([]),Q=N()(V,2),Y=Q[0],R=Q[1];(0,x.useEffect)(function(){p&&R(p)},[p]);var _=function(O){if(D){var g=D(O);return g}return O},K=function(){var se=C()(h()().mark(function O(g,m){return h()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(!E){v.next=6;break}return v.next=3,E(g,m);case 3:v.t0=v.sent,v.next=9;break;case 6:return v.next=8,(0,de.he)(g,{params:{search:m}});case 8:v.t0=v.sent;case 9:return v.abrupt("return",v.t0);case 10:case"end":return v.stop()}},O)}));return function(g,m){return se.apply(this,arguments)}}(),le=function(){var se=C()(h()().mark(function O(g){var m,y;return h()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!w){c.next=6;break}return c.next=3,K(w,g);case 3:m=c.sent,y=_(m),R(ce()(y));case 6:Z&&Z(g);case 7:case"end":return c.stop()}},O)}));return function(g){return se.apply(this,arguments)}}();return s!==void 0&&(t.initialValue=s),(0,f.jsx)(X.Z.Item,r()(r()({},t),{},{name:n,label:d,rules:l,children:(0,f.jsx)(Qe.Z,r()(r()({},i),{},{onSearch:le,options:Y}))}))},qe=_e,er=o(9783),we=o.n(er),rr=o(34307),Fe=o(97435),ar=function $(e,n,d){return e==null?void 0:e.map(function(a){return(a==null?void 0:a.value)===d?a.children=n:a.children&&$(a.children,n,d),r()({},a)})},nr=function(e){var n=e.value,d=e.onChange,a=e.selectOptions,t=e.loadDataOptions,s=e.formatter,l=e.asyncFn,i=e.widgetProps,p=(0,Fe.Z)(i,["options"]),w=(0,x.useState)(a!=null?a:[]),D=N()(w,2),E=D[0],Z=D[1],V=(0,x.useState)(!1),Q=N()(V,2),Y=Q[0],R=Q[1],_=function(){var O=C()(h()().mark(function g(m,y){var v;return h()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(!l){b.next=9;break}return b.next=3,l(m,y);case 3:if(v=b.sent,v!==!1){b.next=8;break}return b.next=7,(0,de.he)(m.url,m==null?void 0:m.options);case 7:return b.abrupt("return",b.sent);case 8:return b.abrupt("return",v);case 9:return b.next=11,(0,de.he)(m.url,m==null?void 0:m.options);case 11:return b.abrupt("return",b.sent);case 12:case"end":return b.stop()}},g)}));return function(m,y){return O.apply(this,arguments)}}(),K=function(g,m,y,v){if(s){var c=s(g,m,y);return c===!1?g==null?void 0:g.map(function(b){return r()(r()({},b),{},{isLeaf:v})}):c}return g==null?void 0:g.map(function(b){return r()(r()({},b),{},{isLeaf:v})})};(0,x.useEffect)(function(){C()(h()().mark(function O(){var g,m,y,v,c,b;return h()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(g=t==null?void 0:t[0],!g){P.next=10;break}return m=g.action,y={url:m},R(!0),P.next=7,_(y,0);case 7:v=P.sent,R(!1),Z(K(v,g,0,(t==null?void 0:t.length)===1));case 10:if(!(Array.isArray(n)&&(n==null?void 0:n.length)>0)){P.next=18;break}c=h()().mark(function u(A){var k,L,S,G,W;return h()().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(k=t==null?void 0:t[A],!k){z.next=10;break}return L=k.action,S=k.queryKey,G={url:L,options:r()({},S?{params:we()({},String(S),n==null?void 0:n[A-1])}:null)},R(!0),z.next=7,_(G,A);case 7:W=z.sent,R(!1),Z(function(q){var pe=K(W,g,A,(t==null?void 0:t.length)-1===A);return ar(q,pe,n==null?void 0:n[A-1])});case 10:case"end":return z.stop()}},u)}),b=1;case 13:if(!(b<n.length)){P.next=18;break}return P.delegateYield(c(b),"t0",15);case 15:b++,P.next=13;break;case 18:case"end":return P.stop()}},O)}))()},[]);var le=function(){var O=C()(h()().mark(function g(m){var y,v,c,b,I,P,u,A,k;return h()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(!(Array.isArray(m)&&t)){S.next=18;break}if(y=m.length-1,v=m[y],c=y+2===(t==null?void 0:t.length),v.loading=!0,b=v.value,I=t[y+1],!I){S.next=18;break}return P=I.action,u=I.queryKey,A={url:P,options:r()({},u?{params:we()({},String(u),b)}:null)},R(!0),S.next=13,_(A,y+1);case 13:k=S.sent,R(!1),v.loading=!1,v.children=K(k,I,y+1,c),Z(function(G){return ce()(G)});case 18:case"end":return S.stop()}},g)}));return function(m){return O.apply(this,arguments)}}(),se=function(g){d&&d(g)};return(0,f.jsx)(rr.Z,r()(r()({loading:Y,value:n,options:E,onChange:se},t?{loadData:le}:null),p))},tr=nr,lr=["name","label","formItemProps","initialValue","rules"],ir=function(e){var n=e.name,d=e.label,a=e.formItemProps,t=a===void 0?{}:a,s=e.initialValue,l=e.rules,i=ie()(e,lr);return s!==void 0&&(t.initialValue=s),(0,f.jsx)(X.Z.Item,r()(r()({},t),{},{name:n,label:d,rules:l,children:(0,f.jsx)(tr,r()({},i))}))},ur=ir,sr=o(32808),or=function(e){var n=e.name,d=e.label,a=e.formItemProps,t=a===void 0?{}:a,s=e.initialValue,l=e.rules,i=e.widgetProps,p=e.options;return s!==void 0&&(t.initialValue=s),(0,f.jsx)(X.Z.Item,r()(r()({},t),{},{name:n,label:d,rules:l,children:(0,f.jsx)(sr.Z.Group,r()({options:p},i))}))},dr=or,Re=o(98033),Te=o(5584),Ia=o(33852),fr=function(e){var n=e.name,d=e.label,a=e.formItemProps,t=a===void 0?{}:a,s=e.initialValue,l=e.rules,i=e.widgetProps;return s!==void 0&&(t.initialValue=s),(0,f.jsx)(X.Z.Item,r()(r()({},t),{},{name:n,label:d,rules:l,children:(0,f.jsx)(Re.Z,r()({locale:Te.Z},i))}))},cr=fr,vr=Re.Z.RangePicker,mr=function(e){var n=e.name,d=e.label,a=e.formItemProps,t=a===void 0?{}:a,s=e.initialValue,l=e.rules,i=e.widgetProps;return s!==void 0&&(t.initialValue=s),(0,f.jsx)(X.Z.Item,r()(r()({},t),{},{name:n,label:d,rules:l,children:(0,f.jsx)(vr,r()({locale:Te.Z},i))}))},hr=mr,pr=o(12444),Oe=o.n(pr),Pr=o(72004),Ue=o.n(Pr),gr=o(31996),We=o.n(gr),br=o(26037),Ke=o.n(br),Ve=o(24016),Ze=function($){We()(n,$);var e=Ke()(n);function n(){return Oe()(this,n),e.apply(this,arguments)}return Ue()(n,[{key:"render",value:function(){var a=this.props,t=a.name,s=a.label,l=a.formItemProps,i=l===void 0?{}:l,p=a.initialValue,w=a.rules,D=a.widgetProps,E=D===void 0?{}:D;return p!==void 0&&(i.initialValue=p),(0,f.jsx)(X.Z.Item,r()(r()({},i),{},{name:t,label:s,rules:w,children:(0,f.jsx)(Ve.Z,r()({},E))}))}}]),n}(x.Component);we()(Ze,"TextArea",void 0),we()(Ze,"Password",void 0),we()(Ze,"Number",void 0);var Ee=Ze,yr=function(e){var n=e.name,d=e.label,a=e.formItemProps,t=a===void 0?{}:a,s=e.initialValue,l=e.rules,i=e.widgetProps,p=i===void 0?{}:i;return s!==void 0&&(t.initialValue=s),(0,f.jsx)(X.Z.Item,r()(r()({},t),{},{name:n,label:d,rules:l,children:(0,f.jsx)(Ve.Z.TextArea,r()({},p))}))},wr=yr,Ir=function(e){var n=e.name,d=e.label,a=e.formItemProps,t=a===void 0?{}:a,s=e.initialValue,l=e.rules,i=e.widgetProps,p=i===void 0?{}:i;return s!==void 0&&(t.initialValue=s),(0,f.jsx)(X.Z.Item,r()(r()({},t),{},{name:n,label:d,rules:l,children:(0,f.jsx)(Ve.Z.Password,r()({},p))}))},Sr=Ir,Ar=o(43262),Dr=function(e){var n=e.name,d=e.label,a=e.formItemProps,t=a===void 0?{}:a,s=e.initialValue,l=e.rules,i=e.widgetProps,p=i===void 0?{}:i;return s!==void 0&&(t.initialValue=s),(0,f.jsx)(X.Z.Item,r()(r()({},t),{},{name:n,label:d,rules:l,children:(0,f.jsx)(Ar.Z,r()({},p))}))},jr=Dr;Ee.TextArea=wr,Ee.Password=Sr,Ee.Number=jr;var Cr=Ee,$r=o(33573),kr=function(e){var n=e.name,d=e.label,a=e.formItemProps,t=a===void 0?{}:a,s=e.initialValue,l=e.rules,i=e.widgetProps,p=e.options;return s!==void 0&&(t.initialValue=s),(0,f.jsx)(X.Z.Item,r()(r()({},t),{},{name:n,label:d,rules:l,children:(0,f.jsx)($r.ZP.Group,r()({options:p},i))}))},Vr=kr,Tr=o(9416),Zr=function(e){var n=e.name,d=e.label,a=e.formItemProps,t=a===void 0?{}:a,s=e.initialValue,l=e.rules,i=e.widgetProps;return s!==void 0&&(t.initialValue=s),(0,f.jsx)(X.Z.Item,r()(r()({},t),{},{name:n,label:d,rules:l,children:(0,f.jsx)(Tr.Z,r()({},i))}))},Er=Zr,xr=o(34041),Lr=function(e){var n=e.name,d=e.label,a=e.formItemProps,t=a===void 0?{}:a,s=e.initialValue,l=e.rules,i=e.widgetProps,p=e.selectOptions,w=e.url,D=e.formatter,E=e.asyncFn,Z=(0,x.useState)(!1),V=N()(Z,2),Q=V[0],Y=V[1],R=(0,x.useState)(p),_=N()(R,2),K=_[0],le=_[1];s!==void 0&&(t.initialValue=s);var se=function(m){if(D){var y=D(m);return y}return m},O=function(){var g=C()(h()().mark(function m(y){return h()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!E){c.next=6;break}return c.next=3,E(y);case 3:c.t0=c.sent,c.next=9;break;case 6:return c.next=8,(0,de.he)(y);case 8:c.t0=c.sent;case 9:return c.abrupt("return",c.t0);case 10:case"end":return c.stop()}},m)}));return function(y){return g.apply(this,arguments)}}();return(0,x.useEffect)(function(){C()(h()().mark(function g(){var m,y;return h()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!w){c.next=8;break}return Y(!0),c.next=4,O(w);case 4:m=c.sent,Y(!1),y=se(m),le(y);case 8:case"end":return c.stop()}},g)}))()},[]),(0,f.jsx)(X.Z.Item,r()(r()({},t),{},{name:n,label:d,rules:l,children:(0,f.jsx)(xr.Z,r()({loading:Q,options:K},i))}))},Fr=Lr,Rr=o(71338),Or=function(e){var n=e.name,d=e.label,a=e.formItemProps,t=a===void 0?{}:a,s=e.initialValue,l=e.rules,i=e.widgetProps;return s!==void 0&&(t.initialValue=s),(0,f.jsx)(X.Z.Item,r()(r()({},t),{},{name:n,label:d,rules:l,children:(0,f.jsx)(Rr.Z,r()({},i))}))},Ur=Or,Wr=o(72269),Kr=function(e){var n=e.value,d=e.onChange,a=e.widgetProps,t=function(l){d&&d(l)};return(0,f.jsx)(Wr.Z,r()({checked:n,onChange:t},a))},Mr=Kr,Br=["name","label","formItemProps","initialValue","rules"],Gr=function(e){var n=e.name,d=e.label,a=e.formItemProps,t=a===void 0?{}:a,s=e.initialValue,l=s===void 0?!1:s,i=e.rules,p=ie()(e,Br);return l!==void 0&&(t.initialValue=l),(0,f.jsx)(X.Z.Item,r()(r()({},t),{},{name:n,label:d,rules:i,children:(0,f.jsx)(Mr,r()({},p))}))},zr=Gr,Me=o(68351),Be=function($){We()(n,$);var e=Ke()(n);function n(){return Oe()(this,n),e.apply(this,arguments)}return Ue()(n,[{key:"render",value:function(){var a=this.props,t=a.name,s=a.label,l=a.formItemProps,i=l===void 0?{}:l,p=a.initialValue,w=a.rules,D=a.widgetProps,E=D===void 0?{}:D;return p!==void 0&&(i.initialValue=p),(0,f.jsx)(X.Z.Item,r()(r()({},i),{},{name:t,label:s,rules:w,children:(0,f.jsx)(Me.Z,r()({locale:Te.Z},E))}))}}]),n}(x.Component);we()(Be,"RangePicker",void 0);var Ge=Be,Nr=function(e){var n=e.name,d=e.label,a=e.formItemProps,t=a===void 0?{}:a,s=e.initialValue,l=e.rules,i=e.widgetProps,p=i===void 0?{}:i;return s!==void 0&&(t.initialValue=s),(0,f.jsx)(X.Z.Item,r()(r()({},t),{},{name:n,label:d,rules:l,children:(0,f.jsx)(Me.Z.RangePicker,r()({locale:Te.Z},p))}))},Hr=Nr;Ge.RangePicker=Hr;var Xr=Ge,Yr=o(75081),Jr=o(88306),Qr=["checkStrictly","checkable"],_r=function $(e,n,d){return e.map(function(a){return a.key===d?r()(r()({},a),{},{isLeaf:!(n!=null&&n.length),children:n}):a.children?r()(r()({},a),{},{children:$(a.children,n,d)}):a})},qr=function(e){var n=e.value,d=e.onChange,a=e.checkStrictlyChecked,t=e.widgetProps,s=e.treeData,l=e.url,i=e.loadDataOptions,p=e.formatter,w=e.asyncFn,D=t.checkStrictly,E=t.checkable,Z=ie()(t,Qr),V=(0,Fe.Z)(Z,["onSelect","onCheck"]),Q=(0,x.useState)(!0),Y=N()(Q,2),R=Y[0],_=Y[1],K=(0,x.useState)(),le=N()(K,2),se=le[0],O=le[1],g=(0,x.useState)(),m=N()(g,2),y=m[0],v=m[1],c=(0,x.useState)(),b=N()(c,2),I=b[0],P=b[1],u=(0,x.useState)(!1),A=N()(u,2),k=A[0],L=A[1],S=(0,x.useState)(s),G=N()(S,2),W=G[0],F=G[1],z=(0,x.useRef)(!1);(0,x.useEffect)(function(){W&&(W==null?void 0:W.length)>0&&n&&!z.current&&!l&&(P(n),z.current=!0)},[W,n]);var q=function(j,T,ae,M){if(T){if(p){var U=p(j,ae);return U===!1?j==null?void 0:j.map(function(fe){return r()(r()({},fe),{},{isLeaf:M})}):U}return j==null?void 0:j.map(function(fe){return r()(r()({},fe),{},{isLeaf:M})})}else{if(p){var ne=p(j);return ne===!1?j:ne}return j}},pe=function(){var Pe=C()(h()().mark(function j(T,ae){var M;return h()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(!w){U.next=9;break}return U.next=3,w(T,ae);case 3:if(M=U.sent,M!==!1){U.next=8;break}return U.next=7,(0,de.he)(T.url,T==null?void 0:T.options);case 7:return U.abrupt("return",U.sent);case 8:return U.abrupt("return",M);case 9:return U.next=11,(0,de.he)(T.url,T==null?void 0:T.options);case 11:return U.abrupt("return",U.sent);case 12:case"end":return U.stop()}},j)}));return function(T,ae){return Pe.apply(this,arguments)}}();(0,x.useEffect)(function(){C()(h()().mark(function Pe(){var j,T,ae,M,ne,U,fe;return h()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(!l){J.next=10;break}return L(!0),J.next=4,pe({url:l});case 4:return j=J.sent,L(!1),T=q(j,!1),F(T),P(n),J.abrupt("return");case 10:if(ae=i==null?void 0:i[0],!ae){J.next=21;break}return M=ae.action,ne={url:M},L(!0),J.next=17,pe(ne,0);case 17:U=J.sent,fe=q(U,!0,0,(i==null?void 0:i.length)===1),F(fe),L(!1);case 21:case"end":return J.stop()}},Pe)}))()},[]);var Ie=function(){var Pe=C()(h()().mark(function j(T){var ae,M,ne,U,fe,Se,J,De,je;return h()().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:if(!(Array.isArray(i)&&i)){be.next=11;break}return M=T==null||(ae=T.pos)===null||ae===void 0?void 0:ae.split("-"),ne=(M==null?void 0:M.length)-2,U=ne+2===(i==null?void 0:i.length),fe=i==null?void 0:i[ne+1],Se=fe.action,J=fe.queryKey,De={url:Se,options:r()({},J?{params:we()({},String(J),T==null?void 0:T.key)}:null)},be.next=9,pe(De,ne+1);case 9:je=be.sent,F(function(wa){return _r(wa,q(je,!0,ne+1,U),T==null?void 0:T.key)});case 11:case"end":return be.stop()}},j)}));return function(T){return Pe.apply(this,arguments)}}(),xe=function(j){d&&d(j)},ga=function(j,T){Z.onSelect&&Z.onSelect(j,T),O(j),xe(j)},ba=function(j,T){var ae,M=j;if(D&&a&&!Array.isArray(j)){var ne,U=T.node,fe=T.checked,Se=(ne=(0,me.zk)({initArr:[U],childrenField:"children"}))===null||ne===void 0?void 0:ne.map(function(ge){return ge==null?void 0:ge.key});if(fe){var J;M=[].concat(ce()(Se),ce()((J=j==null?void 0:j.checked)!==null&&J!==void 0?J:[])).reduce(function(ge,be){return ge.indexOf(be)===-1?[].concat(ce()(ge),[be]):ge},[])}else{var De;M=j==null||(De=j.checked)===null||De===void 0?void 0:De.filter(function(ge){return(Se==null?void 0:Se.indexOf(ge))===-1})}}if(Z.onCheck&&Z.onCheck(j,T),(ae=M)!==null&&ae!==void 0&&ae.checked){var je;M=(je=M)===null||je===void 0?void 0:je.checked}v(M),xe(M)},ya=function(j){z.current=!0,P(j),_(!1)};return k?(0,f.jsx)(Yr.Z,{}):(!W||!(W!=null&&W.length))&&!k?(0,f.jsx)(Ve.Z,{style:{backgroundColor:"#fff"},placeholder:"\u6682\u65E0\u6570\u636E",disabled:!0}):(0,f.jsx)(Jr.Z,r()(r()({autoExpandParent:R,expandedKeys:I,treeData:W,selectedKeys:n||se,checkedKeys:n||y,onSelect:ga,onExpand:ya,onCheck:ba,checkStrictly:D,checkable:E,selectable:!E},i?{loadData:Ie}:null),V))},ea=qr,ra=["name","label","formItemProps","initialValue","rules"],aa=function(e){var n=e.name,d=e.label,a=e.formItemProps,t=a===void 0?{}:a,s=e.initialValue,l=e.rules,i=ie()(e,ra);return s!==void 0&&(t.initialValue=s),(0,f.jsx)(X.Z.Item,r()(r()({},t),{},{name:n,label:d,rules:l,children:(0,f.jsx)(ea,r()({},i))}))},na=aa,ta=o(59847),la=function $(e,n,d){return e.map(function(a){return a.value===d?r()(r()({},a),{},{isLeaf:!(n!=null&&n.length),children:n}):a.children?r()(r()({},a),{},{children:$(a.children,n,d)}):a})},ia=function(e){var n=e.value,d=e.onChange,a=e.treeData,t=e.url,s=e.asyncFn,l=e.loadDataOptions,i=e.formatter,p=e.widgetProps,w=p.treeCheckStrictly,D=p.treeCheckable,E=p.multiple,Z=(0,x.useState)(),V=N()(Z,2),Q=V[0],Y=V[1],R=(0,x.useState)(!1),_=N()(R,2),K=_[0],le=_[1],se=(0,x.useState)(a),O=N()(se,2),g=O[0],m=O[1],y=function(P,u,A,k){if(u){if(i){var S=i(P,A);return S===!1?P==null?void 0:P.map(function(G){return r()(r()({},G),{},{isLeaf:k})}):S}return P==null?void 0:P.map(function(G){return r()(r()({},G),{},{isLeaf:k})})}else{if(i){var L=i(P);return L===!1?P:L}return P}},v=function(){var I=C()(h()().mark(function P(u,A){var k;return h()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(!s){S.next=9;break}return S.next=3,s(u,A);case 3:if(k=S.sent,k!==!1){S.next=8;break}return S.next=7,(0,de.he)(u.url,u==null?void 0:u.options);case 7:return S.abrupt("return",S.sent);case 8:return S.abrupt("return",k);case 9:return S.next=11,(0,de.he)(u.url,u==null?void 0:u.options);case 11:return S.abrupt("return",S.sent);case 12:case"end":return S.stop()}},P)}));return function(u,A){return I.apply(this,arguments)}}();(0,x.useEffect)(function(){C()(h()().mark(function I(){var P,u,A,k,L,S,G;return h()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(!t){F.next=9;break}return le(!0),F.next=4,v({url:t});case 4:return P=F.sent,le(!1),u=y(P,!1),m(u),F.abrupt("return");case 9:if(A=l==null?void 0:l[0],!A){F.next=20;break}return k=A.action,L={url:k},le(!0),F.next=16,v(L,0);case 16:S=F.sent,G=y(S,!0,0,(l==null?void 0:l.length)===1),m(G),le(!1);case 20:case"end":return F.stop()}},I)}))()},[]),(0,x.useEffect)(function(){if(Array.isArray(n)){if(w){Y(n==null?void 0:n.map(function(I){return{value:I}}));return}if(!D&&!E){Y(n==null?void 0:n[0]);return}Y(n)}},[n]);var c=function(){var I=C()(h()().mark(function P(u){var A,k,L,S,G,W,F,z,q;return h()().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:if(!(Array.isArray(l)&&l)){Ie.next=11;break}return k=u==null||(A=u.pos)===null||A===void 0?void 0:A.split("-"),L=(k==null?void 0:k.length)-2,S=L+2===(l==null?void 0:l.length),G=l==null?void 0:l[L+1],W=G.action,F=G.queryKey,z={url:W,options:r()({},F?{params:we()({},String(F),u==null?void 0:u.value)}:null)},Ie.next=9,v(z,L+1);case 9:q=Ie.sent,m(function(xe){return la(xe,y(q,!0,L+1,S),u==null?void 0:u.value)});case 11:case"end":return Ie.stop()}},P)}));return function(u){return I.apply(this,arguments)}}(),b=function(P){if(d){if(w){d(P==null?void 0:P.map(function(u){return u==null?void 0:u.value}));return}if(!D&&!E){d([P]);return}d(P)}};return(!g||!(g!=null&&g.length))&&!K?(0,f.jsx)(Ve.Z,{style:{backgroundColor:"#fff"},placeholder:"\u6682\u65E0\u6570\u636E",disabled:!0}):(0,f.jsx)(ta.Z,r()(r()({loading:K,value:Q,onChange:b,treeData:g,treeDefaultExpandedKeys:n,showCheckedStrategy:w||!D&&E?"SHOW_ALL":"SHOW_CHILD"},l?{loadData:c}:null),p))},ua=ia,sa=["name","label","formItemProps","initialValue","rules"],oa=function(e){var n=e.name,d=e.label,a=e.formItemProps,t=a===void 0?{}:a,s=e.initialValue,l=e.rules,i=ie()(e,sa);return s!==void 0&&(t.initialValue=s),(0,f.jsx)(X.Z.Item,r()(r()({},t),{},{name:n,label:d,rules:l,children:(0,f.jsx)(ua,r()({},i))}))},da=oa,fa=o(24969),ze=o(88484),Ne=o(94628),ca=["children","beforeUpload"],va=function(e){var n=e.value,d=e.onChange,a=e.widgetProps,t=a.children,s=a.beforeUpload,l=ie()(a,ca),i=l.listType,p=l.accept,w=function(Z,V){var Q,Y;s&&s(Z,V);var R=p==null?void 0:p.split(",").map(function(K){return K.trim().slice(1)}),_=Z==null||(Q=Z.name)===null||Q===void 0?void 0:Q.split(".")[(Z==null||(Y=Z.name)===null||Y===void 0?void 0:Y.split(".").length)-1];if(!(R!=null&&R.includes(_)))return H.ZP.error("\u53EA\u80FD\u4E0A\u4F20".concat(R==null?void 0:R.join("\u3001"),"\u683C\u5F0F\u6587\u4EF6\uFF01")),Ne.Z.LIST_IGNORE},D=function(Z){d&&d(Z.fileList)};return(0,f.jsxs)(Ne.Z,r()(r()({fileList:n,beforeUpload:w,onChange:D},l),{},{children:[t===void 0&&i==="picture-card"?(0,f.jsx)(fa.Z,{}):t,t===void 0&&i==="picture"?(0,f.jsx)(ue.ZP,{icon:(0,f.jsx)(ze.Z,{}),children:"Upload"}):t,t===void 0&&i==="text"?(0,f.jsx)(ue.ZP,{icon:(0,f.jsx)(ze.Z,{}),children:"Upload"}):t]}))},ma=va,ha=["name","label","formItemProps","initialValue","rules"],pa=function(e){var n=e.name,d=e.label,a=e.formItemProps,t=a===void 0?{}:a,s=e.initialValue,l=e.rules,i=ie()(e,ha);return s!==void 0&&(t.initialValue=s),(0,f.jsx)(X.Z.Item,r()(r()({},t),{},{name:n,label:d,rules:l,children:(0,f.jsx)(ma,r()({},i))}))},Pa=pa},70338:function(Le,Ce,o){"use strict";o.d(Ce,{Sv:function(){return Ae},he:function(){return r},ms:function(){return N},uC:function(){return ke}});var $e=o(97857),ce=o.n($e),ye=o(11238),r=function(ve,h){return(0,ye.ZP)(ve,ce()({method:"GET"},h)).then(function(oe){return oe.result})},ke=function(ve,h){return(0,ye.ZP)(ve,{method:"POST",data:h})},N=function(ve,h){return(0,ye.ZP)(ve,ce()({method:"GET"},h))},Ae=function(ve){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,ye.ZP)(ve,{method:"POST",responseType:"blob",data:h})}},36404:function(Le,Ce,o){"use strict";o.d(Ce,{$v:function(){return ve},kn:function(){return h},lr:function(){return ie},zk:function(){return Ae}});var $e=o(97857),ce=o.n($e),ye=o(15009),r=o.n(ye),ke=o(99289),N=o.n(ke);function Ae(oe){for(var C=oe.initArr,ee=oe.childrenField,H=oe.newArr,ue=H===void 0?[]:H,B=0;B<(C==null?void 0:C.length);B++){var re,te=C[B];te[ee]&&(re=te[ee])!==null&&re!==void 0&&re.length&&Ae({initArr:te[ee],newArr:ue,childrenField:ee}),ue.push(te)}return ue}var ie=function(){var oe=N()(r()().mark(function C(ee,H){var ue,B;return r()().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:ue=window.URL.createObjectURL(ee),B=document.createElement("a"),document.body.appendChild(B),B.style.display="none",B.href=ue,B.setAttribute("download",H),B.click(),document.body.removeChild(B);case 8:case"end":return te.stop()}},C)}));return function(ee,H){return oe.apply(this,arguments)}}(),ve=function(){var oe=N()(r()().mark(function C(ee){var H;return r()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return H=new Promise(function(re,te){window.URL=window.URL||window.webkitURL;var he=new XMLHttpRequest;he.open("get",ee,!0),he.responseType="blob",he.setRequestHeader("Access-Control-Allow-Origin","*"),he.onload=function(){if(this.status===200){var x=this.response,de=new FileReader;de.onloadend=function(me){var f;re(me==null||(f=me.target)===null||f===void 0?void 0:f.result)},de.readAsDataURL(x)}},he.onerror=function(){console.error("**\u8F6Cbase64\u5931\u8D25**"),te("**\u8F6Cbase64\u5931\u8D25**")},he.send()}),B.abrupt("return",H);case 2:case"end":return B.stop()}},C)}));return function(ee){return oe.apply(this,arguments)}}(),h=function oe(C){var ee=C.initArr,H=C.initChildrenFieldName,ue=C.resChildrenFieldName,B=C.rotorObj;return ee==null?void 0:ee.map(function(re){var te=ce()({},B(re));if(re!=null&&re[H]){var he=oe({initArr:re==null?void 0:re[H],initChildrenFieldName:H,resChildrenFieldName:ue,rotorObj:B});te[ue]=he}return te})}},24654:function(){}}]);
